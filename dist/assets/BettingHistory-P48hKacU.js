import{r as v,s as d,j as a,Q as B,w as X,E as J,S as ne,x as ie,y as le,z as ce,D as Y,I as de,L as me,t as N,aF as Q,B as Z}from"./index-DxPzcoqH.js";import{D as ue}from"./DataTable-Dd1wiudy.js";import{M as R}from"./MetricCard-B_ztsvNK.js";import{C as ge}from"./cloud-download-BHawthXI.js";import{D as fe}from"./download-DOCjweW1.js";import{C as pe}from"./circle-alert-mcz1CrVD.js";import"./search-BORvxhZ7.js";function Ae({user:U}){const[L,M]=v.useState(!1),[G,W]=v.useState(!1),[q,H]=v.useState([]),[D,ee]=v.useState("all"),[k,te]=v.useState(""),[C,z]=v.useState({totalBets:0,totalBetAmount:0,totalWinAmount:0,netProfit:0}),K=t=>{if(!t)return"-";const r=new Date(t),l=r.getUTCFullYear(),g=String(r.getUTCMonth()+1).padStart(2,"0"),o=String(r.getUTCDate()).padStart(2,"0"),_=String(r.getUTCHours()).padStart(2,"0"),c=String(r.getUTCMinutes()).padStart(2,"0"),n=String(r.getUTCSeconds()).padStart(2,"0");return`${l}ë…„${g}ì›”${o}ì¼ ${_}:${c}:${n}`},ae=t=>{const r=new Date,l=new Date(r.getFullYear(),r.getMonth(),r.getDate());switch(t){case"today":return{start:l.toISOString(),end:r.toISOString()};case"week":const g=new Date(l);return g.setDate(l.getDate()-7),{start:g.toISOString(),end:r.toISOString()};case"month":const o=new Date(l);return o.setMonth(l.getMonth()-1),{start:o.toISOString(),end:r.toISOString()};default:return null}},P=async()=>{try{console.log("ğŸ”„ ë² íŒ… ë°ì´í„° ë¡œë“œ ì‹œì‘"),M(!0);const t=ae(D);let r=[];if(U.level===1){const{data:c}=await d.from("partners").select("id");r=c?.map(n=>n.id)||[]}else{r=[U.id];const{data:c}=await d.from("partners").select("id").eq("parent_id",U.id),n=c?.map(u=>u.id)||[];if(r.push(...n),n.length>0){const{data:u}=await d.from("partners").select("id").in("parent_id",n),p=u?.map(w=>w.id)||[];if(r.push(...p),p.length>0){const{data:w}=await d.from("partners").select("id").in("parent_id",p),x=w?.map(e=>e.id)||[];if(r.push(...x),x.length>0){const{data:e}=await d.from("partners").select("id").in("parent_id",x),i=e?.map(f=>f.id)||[];if(r.push(...i),i.length>0){const{data:f}=await d.from("partners").select("id").in("parent_id",i),m=f?.map(S=>S.id)||[];r.push(...m)}}}}}console.log("ğŸ‘¥ í•˜ìœ„ íŒŒíŠ¸ë„ˆ ID ê°œìˆ˜:",r.length);let l=[];if(r.length>0){const{data:c}=await d.from("users").select("id").in("referrer_id",r);l=c?.map(n=>n.id)||[],console.log("ğŸ‘¤ í•˜ìœ„ íšŒì› ID ê°œìˆ˜:",l.length)}let g=d.from("game_records").select("*");if(l.length>0)g=g.in("user_id",l);else{H([]),z({totalBets:0,totalBetAmount:0,totalWinAmount:0,netProfit:0}),M(!1);return}t&&(g=g.gte("played_at",t.start).lte("played_at",t.end)),g=g.order("played_at",{ascending:!1}).limit(1e3);const{data:o,error:_}=await g;if(_)throw console.error("âŒ ë² íŒ… ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:",_),_;if(console.log("âœ… ë² íŒ… ë°ì´í„° ë¡œë“œ ì„±ê³µ:",o?.length||0,"ê±´"),console.log("ğŸ“Š ì²« ë²ˆì§¸ ë ˆì½”ë“œ:",o?.[0]),H(o||[]),o&&o.length>0){const c=o.reduce((u,p)=>u+parseFloat(p.bet_amount?.toString()||"0"),0),n=o.reduce((u,p)=>u+parseFloat(p.win_amount?.toString()||"0"),0);z({totalBets:o.length,totalBetAmount:c,totalWinAmount:n,netProfit:n-c})}else z({totalBets:0,totalBetAmount:0,totalWinAmount:0,netProfit:0})}catch(t){console.error("âŒ ë² íŒ… ë°ì´í„° ë¡œë“œ ì˜¤ë¥˜:",t),N.error("ë² íŒ… ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{M(!1)}},re=async()=>{try{W(!0),N.info("ë² íŒ… ê¸°ë¡ APIë¥¼ í˜¸ì¶œí•˜ì—¬ ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤...");const t=new Date,r=t.getFullYear().toString(),l=(t.getMonth()+1).toString();console.log("ğŸ² ë² íŒ… ë°ì´í„° ìˆ˜ë™ ë™ê¸°í™” ì‹œì‘",{year:r,month:l});const{data:g,error:o}=await d.from("partners").select("id, opcode, secret_key, api_token").not("opcode","is",null).not("secret_key","is",null);if(o||!g||g.length===0){N.warning("API ì„¤ì •ì´ ìˆëŠ” íŒŒíŠ¸ë„ˆê°€ ì—†ìŠµë‹ˆë‹¤.");return}N.info(`${g.length}ê°œ íŒŒíŠ¸ë„ˆì˜ ë² íŒ… ë°ì´í„°ë¥¼ ë™ê¸°í™” ì¤‘...`);let _=0;for(const c of g)try{console.log(`ğŸ“Š íŒŒíŠ¸ë„ˆ ${c.id} (${c.opcode}) ë² íŒ… ë°ì´í„° ì¡°íšŒ ì‹œì‘`);const n=await Q(c.opcode,r,l,0,4e3,c.secret_key);if(n.error){console.error(`âŒ íŒŒíŠ¸ë„ˆ ${c.id} ë² íŒ… ë°ì´í„° ì¡°íšŒ ì‹¤íŒ¨:`,n.error);continue}let u=[];if(n.data){if(!n.data.is_text)n.data.RESULT===!0&&Array.isArray(n.data.DATA)||Array.isArray(n.data.DATA)?u=n.data.DATA:Array.isArray(n.data)&&(u=n.data);else if(n.data.is_text&&n.data.text_response)try{const e=JSON.parse(n.data.text_response);Array.isArray(e.DATA)?u=e.DATA:Array.isArray(e)&&(u=e)}catch(e){console.warn("í…ìŠ¤íŠ¸ ì‘ë‹µ íŒŒì‹± ì‹¤íŒ¨:",e)}}if(u.length===0){console.log(`â­ï¸ íŒŒíŠ¸ë„ˆ ${c.id}: ë² íŒ… ë°ì´í„° ì—†ìŒ`);continue}console.log(`âœ… íŒŒíŠ¸ë„ˆ ${c.id}: ${u.length}ê±´ ë² íŒ… ë°ì´í„° ì¡°íšŒ`),_+=u.length;const p=new Map,w=new Set;u.forEach(e=>{e.username&&e.balance!==void 0&&(p.set(e.username,e.balance),w.add(e.username))}),console.log(`ğŸ“Š ê³ ìœ  ì‚¬ìš©ì ìˆ˜: ${w.size}ëª… (${Array.from(w).join(", ")})`),console.log(`ğŸ” ${w.size}ëª…ì˜ ì‚¬ìš©ì ë³´ìœ ê¸ˆ ì—…ë°ì´íŠ¸ ì‹œì‘...`);for(const[e,i]of p){const{data:f,error:m}=await d.from("users").select("id, referrer_id").eq("username",e).maybeSingle();if(m){console.error(`âŒ ì‚¬ìš©ì ${e} ì¡°íšŒ ì˜¤ë¥˜:`,m);continue}if(!f){const{data:y}=await d.from("users").select("id, referrer_id, username").eq("username",e).maybeSingle();console.debug(y?`â„¹ï¸ ì‚¬ìš©ì ${e}ëŠ” ë‹¤ë¥¸ íŒŒíŠ¸ë„ˆ(${y.referrer_id}) ì†Œì† (ê±´ë„ˆëœ€)`:`â„¹ï¸ ì‚¬ìš©ì ${e}ëŠ” DBì— ë¯¸ë“±ë¡ (ê±´ë„ˆëœ€)`);continue}if(f.referrer_id!==c.id){console.debug(`â„¹ï¸ ì‚¬ìš©ì ${e}ëŠ” ë‹¤ë¥¸ íŒŒíŠ¸ë„ˆ ì†Œì† (ê±´ë„ˆëœ€)`);continue}const{data:S,error:A}=await d.from("game_launch_sessions").select("id").eq("user_id",f.id).eq("status","active").limit(1).single();if(A&&A.code!=="PGRST116"){console.error(`âŒ ì„¸ì…˜ ì¡°íšŒ ì˜¤ë¥˜ (${e}):`,A);continue}if(S){const{error:y}=await d.from("users").update({balance:i}).eq("id",f.id);y?console.error(`âŒ ì‚¬ìš©ì ${e} ì”ê³  ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:`,y):console.log(`ğŸ’° [Active Session] ì‚¬ìš©ì ${e} ì”ê³  ì—…ë°ì´íŠ¸: ${i}`)}else console.log(`â›” [No Active Session] ì‚¬ìš©ì ${e} ì”ê³  ì—…ë°ì´íŠ¸ ìŠ¤í‚µ (session ì—†ìŒ ë˜ëŠ” ended)`)}console.log(`ğŸ’¾ íŒŒíŠ¸ë„ˆ ${c.id}: DB ì €ì¥ ì‹œì‘ (${u.length}ê±´)`);let x=0;for(const e of u)try{const{data:i,error:f}=await d.from("users").select("id, referrer_id").eq("username",e.username).maybeSingle();if(f){console.error(`âŒ ì‚¬ìš©ì ì¡°íšŒ ì˜¤ë¥˜ (${e.username}):`,f),skippedCount++;continue}if(!i){console.debug(`â„¹ï¸ ì‚¬ìš©ì ${e.username}ëŠ” DBì— ë¯¸ë“±ë¡ (ê±´ë„ˆëœ€)`),skippedCount++;continue}if(i.referrer_id!==c.id){console.debug(`â„¹ï¸ ì‚¬ìš©ì ${e.username}ëŠ” ë‹¤ë¥¸ íŒŒíŠ¸ë„ˆ ì†Œì† (ê±´ë„ˆëœ€)`),skippedCount++;continue}const m=(e.id||e.txid)?.toString();if(!m){console.warn("âš ï¸ external_txid ì—†ìŒ:",e);continue}const{data:S,error:A}=await d.from("game_records").select("id").eq("external_txid",m).eq("partner_id",c.id).maybeSingle();if(A){console.error(`âŒ ì¤‘ë³µ ì²´í¬ ì˜¤ë¥˜ (${m}):`,A);continue}if(S)continue;const y=parseFloat(e.bet||e.bet_amount||"0"),F=parseFloat(e.win||e.win_amount||"0"),O=parseFloat(e.balance||e.balance_after||"0"),E=O-(F-y),j={partner_id:c.id,external_txid:m,username:e.username,user_id:i.id,game_id:e.game||e.game_id,provider_id:Math.floor((e.game||e.game_id)/1e3),game_title:e.game_title||null,provider_name:e.provider_name||null,bet_amount:y,win_amount:F,balance_before:E,balance_after:O,played_at:e.create_at||e.played_at||e.created_at||new Date().toISOString()};console.log(`ğŸ’¾ INSERT ì‹œë„: txid=${m}, user=${e.username}`);const{data:I,error:s}=await d.from("game_records").insert(j).select();s?(console.error(`âŒ INSERT ì‹¤íŒ¨ (${m}):`,s),console.error("ì‹¤íŒ¨í•œ ë°ì´í„°:",j)):(console.log(`âœ… INSERT ì„±ê³µ: ${m} (${e.username})`),x++)}catch(i){console.error("âŒ ë ˆì½”ë“œ ì²˜ë¦¬ ì˜ˆì™¸:",i,e)}console.log(`ğŸ“Š íŒŒíŠ¸ë„ˆ ${c.id}: DB ì €ì¥ ì™„ë£Œ (ì„±ê³µ: ${x}, ê±´ë„ˆëœ€: ${skippedCount}, ì „ì²´: ${u.length})`)}catch(n){console.error(`âŒ íŒŒíŠ¸ë„ˆ ${c.id} ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜:`,n)}await P(),N.success(`ë² íŒ… ê¸°ë¡ ì—…ë°ì´íŠ¸ ì™„ë£Œ (${_}ê±´ ì²˜ë¦¬)`)}catch(t){console.error("âŒ ë² íŒ… ê¸°ë¡ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜:",t),N.error("ë² íŒ… ê¸°ë¡ ì—…ë°ì´íŠ¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{W(!1)}},se=()=>{try{const t=[["TX ID","ì‚¬ìš©ì","ê²Œì„ëª…","ì œê³µì‚¬","ë² íŒ…ì•¡","ë‹¹ì²¨ì•¡","ë² íŒ…ì „ê¸ˆì•¡","ë² íŒ…í›„ê¸ˆì•¡","ì†ìµ","í”Œë ˆì´ ì‹œê°„"].join(","),...T.map(o=>{const _=parseFloat(o.win_amount?.toString()||"0")-parseFloat(o.bet_amount?.toString()||"0");return[o.external_txid,o.username,o.game_title||`Game ${o.game_id}`,o.provider_name||`Provider ${o.provider_id}`,o.bet_amount,o.win_amount,o.balance_before,o.balance_after,_,K(o.played_at)].join(",")})].join(`
`),r=new Blob(["\uFEFF"+t],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),g=URL.createObjectURL(r);l.setAttribute("href",g),l.setAttribute("download",`betting_history_${D}_${new Date().toISOString().split("T")[0]}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),N.success("ë² íŒ… ë‚´ì—­ ë‹¤ìš´ë¡œë“œ ì™„ë£Œ")}catch(t){console.error("ë‹¤ìš´ë¡œë“œ ì˜¤ë¥˜:",t),N.error("ë‹¤ìš´ë¡œë“œ ì‹¤íŒ¨")}};v.useEffect(()=>{P()},[D]),v.useEffect(()=>{console.log("ğŸ”Œ Realtime êµ¬ë… ì‹œì‘");const t=d.channel("betting-realtime").on("postgres_changes",{event:"*",schema:"public",table:"game_records"},r=>{console.log("ğŸ² ë² íŒ… ë°ì´í„° ë³€ê²½ ê°ì§€:",r),P()}).subscribe(r=>{console.log("ğŸ“¡ Realtime êµ¬ë… ìƒíƒœ:",r)});return()=>{console.log("ğŸ”Œ Realtime êµ¬ë… í•´ì œ"),d.removeChannel(t)}},[D]),v.useEffect(()=>{console.log("ğŸ¯ [AUTO-SYNC] ìë™ ë² íŒ… ë™ê¸°í™” ì‹œì‘");let t=!1;const r=async()=>{if(t){console.log("â­ï¸ [AUTO-SYNC] ì´ë¯¸ ì²˜ë¦¬ ì¤‘, ê±´ë„ˆëœ€");return}try{const{data:o,error:_}=await d.from("game_launch_sessions").select("id").eq("status","active").limit(1);if(_){console.error("âŒ [AUTO-SYNC] ì„¸ì…˜ ì¡°íšŒ ì‹¤íŒ¨:",_);return}if(!o||o.length===0){console.log("â„¹ï¸ [AUTO-SYNC] Active ì„¸ì…˜ ì—†ìŒ, ë™ê¸°í™” ê±´ë„ˆëœ€");return}console.log("âœ… [AUTO-SYNC] Active ì„¸ì…˜ ë°œê²¬, ë™ê¸°í™” ì‹œì‘"),t=!0;const c=new Date,n=c.getFullYear().toString(),u=(c.getMonth()+1).toString(),{data:p,error:w}=await d.from("partners").select("id, opcode, secret_key").not("opcode","is",null).not("secret_key","is",null);if(w||!p||p.length===0){console.log("âš ï¸ [AUTO-SYNC] API ì„¤ì •ì´ ìˆëŠ” íŒŒíŠ¸ë„ˆê°€ ì—†ìŒ");return}const x=new Map;for(const i of p)x.has(i.opcode)?x.get(i.opcode).partner_ids.push(i.id):x.set(i.opcode,{opcode:i.opcode,secret_key:i.secret_key,partner_ids:[i.id]});console.log(`ğŸ“Š [AUTO-SYNC] ì´ íŒŒíŠ¸ë„ˆ: ${p.length}ê°œ, ê³ ìœ  OPCODE: ${x.size}ê°œ`);let e=0;for(const[i,f]of x)try{console.log(`ğŸ“¡ [AUTO-SYNC] OPCODE ${i} API í˜¸ì¶œ ì‹œì‘ (íŒŒíŠ¸ë„ˆ ${f.partner_ids.length}ê°œ í¬í•¨)`);const m=await Q(f.opcode,n,u,0,4e3,f.secret_key);if(m.error||!m.data){console.log(`âš ï¸ [AUTO-SYNC] OPCODE ${i} API í˜¸ì¶œ ì‹¤íŒ¨:`,m.error);continue}let S=[];if(m.data.DATA&&Array.isArray(m.data.DATA)?S=m.data.DATA:Array.isArray(m.data)&&(S=m.data),S.length===0){console.log(`â„¹ï¸ [AUTO-SYNC] OPCODE ${i} ë² íŒ… ë°ì´í„° ì—†ìŒ`);continue}console.log(`ğŸ“Š [AUTO-SYNC] OPCODE ${i}: ${S.length}ê±´ ì²˜ë¦¬ ì‹œì‘`);const{data:A}=await d.from("users").select("id, username, referrer_id").in("referrer_id",f.partner_ids),y=new Map;A&&A.forEach(s=>{y.set(s.username,{id:s.id,referrer_id:s.referrer_id})});const F=S.map(s=>(s.id||s.txid)?.toString()).filter(Boolean),{data:O}=await d.from("game_records").select("external_txid, partner_id").in("external_txid",F).in("partner_id",f.partner_ids),E=new Set;O&&O.forEach(s=>{E.add(`${s.external_txid}_${s.partner_id}`)});const j=[],I=new Map;for(const s of S)try{const h=s.username;if(!h)continue;const b=y.get(h);if(!b)continue;const $=(s.id||s.txid)?.toString();if(!$)continue;const V=`${$}_${b.referrer_id}`;if(E.has(V))continue;j.push({partner_id:b.referrer_id,external_txid:$,username:h,user_id:b.id,game_id:s.game||s.game_id,provider_id:Math.floor((s.game||s.game_id)/1e3),game_title:s.game_title||null,provider_name:s.provider_name||null,bet_amount:parseFloat(s.bet||s.bet_amount||"0"),win_amount:parseFloat(s.win||s.win_amount||"0"),balance_before:parseFloat(s.balance_before||"0"),balance_after:parseFloat(s.balance||s.balance_after||"0"),played_at:s.create_at||s.played_at||s.created_at||new Date().toISOString()}),s.balance!==void 0&&I.set(h,parseFloat(s.balance)),E.add(V)}catch{}if(j.length>0)for(let h=0;h<j.length;h+=1e3){const b=j.slice(h,h+1e3),{error:$}=await d.from("game_records").insert(b);$?$.code!=="23505"&&console.error(`âŒ [AUTO-SYNC] OPCODE ${i} ë°°ì¹˜ INSERT ì˜¤ë¥˜:`,$):(e+=b.length,console.log(`âœ… [AUTO-SYNC] OPCODE ${i} ë°°ì¹˜ ${Math.floor(h/1e3)+1} ì €ì¥: ${b.length}ê±´`))}if(I.size>0){console.log(`ğŸ’° [AUTO-SYNC] OPCODE ${i} ì”ê³  ì—…ë°ì´íŠ¸ ì‹œì‘: ${I.size}ëª…`);for(const[s,h]of I){const b=y.get(s);if(!b)continue;const{data:$}=await d.from("game_launch_sessions").select("id").eq("user_id",b.id).eq("status","active").limit(1).maybeSingle();$&&await d.from("users").update({balance:h}).eq("id",b.id)}}console.log(`âœ… [AUTO-SYNC] OPCODE ${i} ì²˜ë¦¬ ì™„ë£Œ`)}catch(m){console.error(`âŒ [AUTO-SYNC] OPCODE ${i} ì²˜ë¦¬ ì˜¤ë¥˜:`,m)}e>0?(console.log(`âœ… [AUTO-SYNC] ì „ì²´ ì™„ë£Œ: ${e}ê±´ ì €ì¥`),await P()):console.log("â„¹ï¸ [AUTO-SYNC] ìƒˆë¡œìš´ ë² íŒ… ë°ì´í„° ì—†ìŒ")}catch(o){console.error("âŒ [AUTO-SYNC] ìë™ ë™ê¸°í™” ì‹¤íŒ¨:",o)}finally{t=!1}},l=setInterval(()=>{console.log("â° [AUTO-SYNC] 30ì´ˆ íƒ€ì´ë¨¸ ì‹¤í–‰"),r()},3e4),g=setTimeout(()=>{console.log("â° [AUTO-SYNC] ì´ˆê¸° 15ì´ˆ íƒ€ì´ë¨¸ ì‹¤í–‰"),r()},15e3);return()=>{console.log("ğŸ”Œ [AUTO-SYNC] íƒ€ì´ë¨¸ ì •ë¦¬"),clearInterval(l),clearTimeout(g)}},[]);const T=k?q.filter(t=>t.username?.toLowerCase().includes(k.toLowerCase())):q,oe=[{key:"external_txid",title:"TX ID",render:t=>a.jsx(Z,{variant:"outline",className:"border-slate-600 text-slate-300",children:t||"-"})},{key:"username",title:"ì‚¬ìš©ì",render:t=>a.jsx("span",{className:"text-slate-300",children:t||"Unknown"})},{key:"game_title",title:"ê²Œì„ëª…",render:(t,r)=>a.jsx("span",{className:"max-w-[200px] truncate text-slate-300",title:t||`Game ${r.game_id}`,children:t||`Game ${r.game_id}`})},{key:"provider_name",title:"ì œê³µì‚¬",render:(t,r)=>a.jsx(Z,{variant:"secondary",className:"bg-slate-700 text-slate-300",children:t||`Provider ${r.provider_id}`})},{key:"bet_amount",title:"ë² íŒ…ì•¡",render:t=>a.jsxs("span",{className:"font-mono text-cyan-400",children:["â‚©",parseFloat(t?.toString()||"0").toLocaleString()]})},{key:"win_amount",title:"ë‹¹ì²¨ì•¡",render:t=>{const r=parseFloat(t?.toString()||"0");return a.jsxs("span",{className:`font-mono ${r>0?"text-emerald-400":"text-slate-500"}`,children:["â‚©",r.toLocaleString()]})}},{key:"balance_before",title:"ë² íŒ…ì „ê¸ˆì•¡",render:t=>a.jsxs("span",{className:"font-mono text-purple-400",children:["â‚©",parseFloat(t?.toString()||"0").toLocaleString()]})},{key:"balance_after",title:"ë² íŒ…í›„ê¸ˆì•¡",render:t=>a.jsxs("span",{className:"font-mono text-indigo-400",children:["â‚©",parseFloat(t?.toString()||"0").toLocaleString()]})},{key:"played_at",title:"ì†ìµ",render:(t,r)=>{const l=parseFloat(r.win_amount?.toString()||"0")-parseFloat(r.bet_amount?.toString()||"0");return a.jsxs("span",{className:`font-mono ${l>0?"text-emerald-400":"text-rose-400"}`,children:[l>0?"+":"","â‚©",l.toLocaleString()]})}},{key:"played_at",title:"í”Œë ˆì´ ì‹œê°„",render:t=>K(t)}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[a.jsx(R,{title:"ì´ ë² íŒ… ìˆ˜",value:`${C.totalBets.toLocaleString()}ê±´`,subtitle:"ì „ì²´ ê²Œì„ ìˆ˜",icon:B,color:"purple"}),a.jsx(R,{title:"ì´ ë² íŒ…ì•¡",value:`â‚©${C.totalBetAmount.toLocaleString()}`,subtitle:"ëˆ„ì  ë² íŒ… ê¸ˆì•¡",icon:B,color:"cyan"}),a.jsx(R,{title:"ì´ ë‹¹ì²¨ì•¡",value:`â‚©${C.totalWinAmount.toLocaleString()}`,subtitle:"ëˆ„ì  ë‹¹ì²¨ ê¸ˆì•¡",icon:B,color:"green"}),a.jsx(R,{title:"ìˆœì†ìµ",value:`${C.netProfit>0?"+":""}â‚©${C.netProfit.toLocaleString()}`,subtitle:C.netProfit>0?"â†‘ ìˆ˜ìµ":"â†“ ì†ì‹¤",icon:B,color:C.netProfit>0?"green":"rose"})]}),a.jsxs("div",{className:"glass-card rounded-xl p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-100",children:"ë² íŒ… ë‚´ì—­"}),a.jsx("p",{className:"text-sm text-slate-400 mt-1",children:U.nickname})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(X,{onClick:re,disabled:L||G,size:"sm",variant:"outline",className:"border-amber-600/50 text-amber-400 hover:bg-amber-600/20",children:[a.jsx(ge,{className:"h-4 w-4 mr-2"}),G?"ì—…ë°ì´íŠ¸ ì¤‘...":"ë² íŒ…ê¸°ë¡ì—…ë°ì´íŠ¸"]}),a.jsxs(X,{onClick:se,disabled:L||T.length===0,size:"sm",className:"border-slate-700 text-slate-300 hover:bg-slate-700/50",children:[a.jsx(fe,{className:"h-4 w-4 mr-2"}),"ë‹¤ìš´ë¡œë“œ"]})]})]}),a.jsxs("p",{className:"text-sm text-slate-400",children:["ì¡°íšŒ: ",T.length,"ê±´ / ì „ì²´: ",q.length,"ê±´"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{className:"text-slate-300",children:"ê¸°ê°„"}),a.jsxs(ne,{value:D,onValueChange:ee,children:[a.jsx(ie,{className:"input-premium",children:a.jsx(le,{})}),a.jsxs(ce,{className:"bg-slate-800 border-slate-700",children:[a.jsx(Y,{value:"today",children:"ì˜¤ëŠ˜"}),a.jsx(Y,{value:"week",children:"ìµœê·¼ 7ì¼"}),a.jsx(Y,{value:"month",children:"ìµœê·¼ 30ì¼"}),a.jsx(Y,{value:"all",children:"ì „ì²´"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{className:"text-slate-300",children:"ì‚¬ìš©ìëª… ê²€ìƒ‰"}),a.jsx(de,{placeholder:"ì‚¬ìš©ìëª… ì…ë ¥...",value:k,onChange:t=>te(t.target.value),className:"input-premium"})]})]}),L?a.jsx("div",{className:"flex justify-center py-12",children:a.jsx(me,{})}):T.length>0?a.jsx(ue,{columns:oe,data:T}):a.jsxs("div",{className:"text-center py-12 text-slate-400",children:[a.jsx(pe,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"ì¡°íšŒëœ ë² íŒ… ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤."}),a.jsx("p",{className:"text-sm mt-2",children:k?"ê²€ìƒ‰ ì¡°ê±´ì„ ë³€ê²½í•´ë³´ì„¸ìš”.":D!=="all"?'ë‚ ì§œ ë²”ìœ„ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ "ì „ì²´"ë¥¼ ì„ íƒí•´ë³´ì„¸ìš”.':"DBì— ë² íŒ… ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ë¹„ìƒ ë™ê¸°í™” ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”."})]})]})]})]})}export{Ae as BettingHistory};
