const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BFLxYssb.js","assets/react-core-CwM-CeLv.js","assets/vendor-CQn7sZ7L.js","assets/radix-ui-SX2QAG6c.js","assets/lucide-icons-wLPRtdhM.js","assets/supabase-r6ABpEO8.js","assets/index-BVHCjfv2.css"])))=>i.map(i=>d[i]);
import{_ as he}from"./supabase-r6ABpEO8.js";import{r as n,j as e}from"./react-core-CwM-CeLv.js";import{s as m,i as j,T as qe,j as De,k as T,l as L,C as b,a as w,b as k,d as A,e as S,L as l,I as c,S as X,p as Y,q as Z,r as ee,t as q,B as D}from"./index-BFLxYssb.js";import{S as P}from"./switch-MNE__dVI.js";import{k as i}from"./vendor-CQn7sZ7L.js";import{R as Oe,b as Re,aa as H,G as Ve,U as ue,K as Ge,S as se,ap as pe,A as je,P as Me,O as Ue,ad as We,a2 as He}from"./lucide-icons-wLPRtdhM.js";import"./radix-ui-SX2QAG6c.js";function es({user:x,initialTab:J="general"}){const[_e,te]=n.useState(J),[Je,ge]=n.useState([]),[h,fe]=n.useState(null),[$e,ae]=n.useState(!1),[v,O]=n.useState(!1),[u,_]=n.useState({system_name:"GMS í†µí•© ê´€ë¦¬ ì‹œìŠ¤í…œ",notification_sound:!0,auto_approval_limit:1e5,maintenance_mode:!1,api_sync_interval:30,session_timeout:1800,max_login_attempts:5,max_concurrent_image_downloads:1}),[p,y]=n.useState({settlement_method:"direct_subordinate",default_rolling_commission:.5,default_losing_commission:5,default_withdrawal_fee:1,min_withdrawal_amount:1e4,max_withdrawal_amount:1e6,daily_withdrawal_limit:5e6}),[g,N]=n.useState({password_min_length:8,password_require_special:!0,ip_whitelist_enabled:!1,two_factor_enabled:!1,login_log_retention_days:90,audit_log_enabled:!0}),[C,R]=n.useState([]),[V,le]=n.useState(""),[re,ve]=n.useState([]),[ye,Ne]=n.useState(""),[r,ie]=n.useState(null),[f,F]=n.useState({commission_rolling:0,commission_losing:0,withdrawal_fee:0}),[G,M]=n.useState(1e8),[$,ne]=n.useState(null),[I,U]=n.useState(!1),[E,be]=n.useState(x.id);n.useEffect(()=>{ce(),z(),ke(),oe();const s=setInterval(z,3e4);return()=>clearInterval(s)},[x.level]),n.useEffect(()=>{E&&Ee(E)},[E]),n.useEffect(()=>{te(J)},[J]);const ce=async()=>{ae(!0);try{const{data:s,error:t}=await m.from("system_settings").select("*").order("setting_key");if(t)throw t;ge(s||[]),s?.forEach(a=>{const o=we(a);a.setting_key in u?_(d=>({...d,[a.setting_key]:o})):a.setting_key in p?y(d=>({...d,[a.setting_key]:o})):a.setting_key in g&&N(d=>({...d,[a.setting_key]:o}))})}catch(s){console.error("ì„¤ì • ë¡œë“œ ì‹¤íŒ¨:",s),i.error("ì‹œìŠ¤í…œ ì„¤ì •ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{ae(!1)}},z=async()=>{try{const{error:s}=await m.from("partners").select("count",{count:"exact",head:!0}),{data:t}=await m.from("user_sessions").select("count",{count:"exact",head:!0}).eq("is_active",!0);fe({database_status:s?"disconnected":"connected",api_status:"active",websocket_status:"connected",active_users:t?.length||0,system_uptime:"2ì¼ 14ì‹œê°„ 32ë¶„",memory_usage:Math.floor(Math.random()*40)+40,cpu_usage:Math.floor(Math.random()*30)+10,last_backup:new Date(Date.now()-Math.random()*864e5).toLocaleString("ko-KR")})}catch(s){console.error("ì‹œìŠ¤í…œ ì •ë³´ ë¡œë“œ ì‹¤íŒ¨:",s)}},we=s=>{switch(s.setting_type){case"boolean":return s.setting_value==="true";case"number":return parseFloat(s.setting_value);default:return s.setting_value}},B=async(s,t)=>{O(!0);try{const a=Object.entries(t).map(([o,d])=>({setting_key:o,setting_value:d.toString(),setting_type:typeof d=="boolean"?"boolean":typeof d=="number"?"number":"string",partner_level:x.level}));for(const o of a){const{error:d}=await m.from("system_settings").upsert(o,{onConflict:"setting_key"});if(d)throw d}i.success(`${s} ì„¤ì •ì´ ì„±ê³µì ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.`),await ce()}catch(a){console.error("ì„¤ì • ì €ì¥ ì‹¤íŒ¨:",a),i.error("ì„¤ì • ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{O(!1)}},ke=async()=>{try{const{data:s,error:t}=await m.from("system_settings").select("setting_value").eq("setting_key","ip_whitelist").single();if(t&&t.code!=="PGRST116")throw t;if(s?.setting_value)try{const a=JSON.parse(s.setting_value);R(Array.isArray(a)?a:[])}catch{R([])}}catch(s){console.error("IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ ë¡œë“œ ì‹¤íŒ¨:",s)}},de=async()=>{if(!/^(\d{1,3}\.){3}\d{1,3}$/.test(V.trim())){i.error("ì˜¬ë°”ë¥¸ IP ì£¼ì†Œ í˜•ì‹ì´ ì•„ë‹™ë‹ˆë‹¤. (ì˜ˆ: 192.168.1.1)");return}if(C.includes(V.trim())){i.error("ì´ë¯¸ ë“±ë¡ëœ IP ì£¼ì†Œì…ë‹ˆë‹¤.");return}try{const t=[...C,V.trim()],{error:a}=await m.from("system_settings").upsert({setting_key:"ip_whitelist",setting_value:JSON.stringify(t),setting_type:"json",partner_level:x.level,description:"IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸"},{onConflict:"setting_key"});if(a)throw a;R(t),le(""),i.success("IP ì£¼ì†Œê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(t){console.error("IP ì¶”ê°€ ì‹¤íŒ¨:",t),i.error("IP ì£¼ì†Œ ì¶”ê°€ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}},Se=async s=>{try{const t=C.filter(o=>o!==s),{error:a}=await m.from("system_settings").upsert({setting_key:"ip_whitelist",setting_value:JSON.stringify(t),setting_type:"json",partner_level:x.level,description:"IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸"},{onConflict:"setting_key"});if(a)throw a;R(t),i.success("IP ì£¼ì†Œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(t){console.error("IP ì‚­ì œ ì‹¤íŒ¨:",t),i.error("IP ì£¼ì†Œ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}},oe=async()=>{try{let s=m.from("partners").select("*").order("level",{ascending:!0}).order("created_at",{ascending:!1});x.level>1&&(s=s.eq("parent_id",x.id));const{data:t,error:a}=await s;if(a)throw a;ve(t||[])}catch(s){console.error("íŒŒíŠ¸ë„ˆ ëª©ë¡ ë¡œë“œ ì‹¤íŒ¨:",s)}},Ce=async s=>{try{const{data:t,error:a}=await m.from("partners").select("*").eq("id",s).single();if(a)throw a;t&&(ie(t),F({commission_rolling:t.commission_rolling||0,commission_losing:t.commission_losing||0,withdrawal_fee:t.withdrawal_fee||0}))}catch(t){console.error("íŒŒíŠ¸ë„ˆ ì»¤ë¯¸ì…˜ ë¡œë“œ ì‹¤íŒ¨:",t),i.error("íŒŒíŠ¸ë„ˆ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}},Ie=s=>{Ne(s),s?Ce(s):(ie(null),F({commission_rolling:0,commission_losing:0,withdrawal_fee:0}))},Pe=(s,t,a)=>r?r.partner_type==="head_office"?s!==100||t!==100||a!==100?(i.error("ëŒ€ë³¸ì‚¬ì˜ ì»¤ë¯¸ì…˜ì€ 100%ë¡œ ê³ ì •ë©ë‹ˆë‹¤."),!1):!0:s>100||t>100||a>100?(i.error("ì»¤ë¯¸ì…˜ì€ 100%ë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤."),!1):s<0||t<0||a<0?(i.error("ì»¤ë¯¸ì…˜ì€ 0% ë¯¸ë§Œì¼ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."),!1):!0:!1,Fe=async()=>{if(!r){i.error("íŒŒíŠ¸ë„ˆë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.");return}if(Pe(f.commission_rolling,f.commission_losing,f.withdrawal_fee)){O(!0);try{const{error:s}=await m.from("partners").update({commission_rolling:f.commission_rolling,commission_losing:f.commission_losing,withdrawal_fee:f.withdrawal_fee,updated_at:new Date().toISOString()}).eq("id",r.id);if(s)throw s;i.success(`${r.nickname} íŒŒíŠ¸ë„ˆì˜ ì»¤ë¯¸ì…˜ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.`),oe()}catch(s){console.error("íŒŒíŠ¸ë„ˆ ì»¤ë¯¸ì…˜ ì €ì¥ ì‹¤íŒ¨:",s),i.error("ì»¤ë¯¸ì…˜ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{O(!1)}}},Ee=async s=>{try{U(!0);const{md5Hash:t}=await he(async()=>{const{md5Hash:Le}=await import("./index-BFLxYssb.js").then(Ae=>Ae._);return{md5Hash:Le}},__vite__mapDeps([0,1,2,3,4,5,6])),{data:a,error:o}=await m.from("partners").select("opcode, secret_key, nickname").eq("id",s).single();if(o||!a?.opcode||!a?.secret_key){console.error("Partner data error:",o,a),i.error("íŒŒíŠ¸ë„ˆ API ì„¤ì •ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");return}const d=t(a.opcode+a.secret_key),W=await(await fetch("https://vi8282.com/proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:"https://api.invest-ho.com/api/game/limit",method:"GET",headers:{"Content-Type":"application/json"},body:{opcode:a.opcode,signature:d}})})).json(),xe=(W.DATA||W).limit||1e8;ne(xe),M(xe)}catch(t){console.error("ì—ë³¼ë£¨ì…˜ ì„¤ì • ì¡°íšŒ ì˜¤ë¥˜:",t),i.error("ì„¤ì •ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{U(!1)}},Te=async()=>{try{U(!0);const{md5Hash:s}=await he(async()=>{const{md5Hash:W}=await import("./index-BFLxYssb.js").then(me=>me._);return{md5Hash:W}},__vite__mapDeps([0,1,2,3,4,5,6])),{data:t,error:a}=await m.from("partners").select("opcode, secret_key, nickname").eq("id",E).single();if(a||!t?.opcode||!t?.secret_key){i.error("íŒŒíŠ¸ë„ˆ API ì„¤ì •ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");return}const o=s(t.opcode+t.secret_key),Q=await(await fetch("https://vi8282.com/proxy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:"https://api.invest-ho.com/api/game/limit",method:"PUT",headers:{"Content-Type":"application/json"},body:{opcode:t.opcode,limit:G,signature:o}})})).json();Q.RESULT===!0||Q.result===!0?(i.success(`${t.nickname}ì˜ ë§¤ì¥ ê¸°ë³¸ ë°°íŒ… ì œí•œì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.`),ne(G)):i.error("ì„¤ì • ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}catch(s){console.error("ì—ë³¼ë£¨ì…˜ ì„¤ì • ì €ì¥ ì˜¤ë¥˜:",s),i.error("ì„¤ì •ì„ ì €ì¥í•˜ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}finally{U(!1)}},K=({status:s,label:t})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`h-3 w-3 rounded-full ${s==="connected"||s==="active"?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-sm font-medium",children:t}),e.jsx(D,{variant:s==="connected"||s==="active"?"default":"destructive",children:s==="connected"||s==="active"?"ì •ìƒ":"ì˜¤ë¥˜"})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-100",children:"ì‹œìŠ¤í…œ ì„¤ì •"}),e.jsx("p",{className:"text-sm text-slate-400",children:"ì‹œìŠ¤í…œ ì „ë°˜ì ì¸ ì„¤ì •ì„ ê´€ë¦¬í•˜ê³  ìƒíƒœë¥¼ ëª¨ë‹ˆí„°ë§í•©ë‹ˆë‹¤."})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs(j,{onClick:z,variant:"outline",size:"sm",children:[e.jsx(Oe,{className:"h-4 w-4 mr-2"}),"ìƒˆë¡œê³ ì¹¨"]})})]}),e.jsxs(qe,{value:_e,onValueChange:te,children:[e.jsxs(De,{className:"grid w-full grid-cols-5 bg-slate-900/50 p-1 border border-slate-700/50 backdrop-blur-sm",children:[e.jsx(T,{value:"general",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-violet-600 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-purple-500/30 hover:bg-slate-800/50 transition-all duration-300",children:"ê¸°ë³¸ ì„¤ì •"}),e.jsx(T,{value:"evolution",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-violet-600 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-purple-500/30 hover:bg-slate-800/50 transition-all duration-300",children:"ì—ë³¼ë£¨ì…˜ ì„¤ì •"}),e.jsx(T,{value:"commission",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-violet-600 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-purple-500/30 hover:bg-slate-800/50 transition-all duration-300",children:"ì»¤ë¯¸ì…˜ ì„¤ì •"}),e.jsx(T,{value:"security",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-violet-600 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-purple-500/30 hover:bg-slate-800/50 transition-all duration-300",children:"ë³´ì•ˆ ì„¤ì •"}),e.jsx(T,{value:"system",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-violet-600 data-[state=active]:to-purple-600 data-[state=active]:text-white data-[state=active]:shadow-lg data-[state=active]:shadow-purple-500/30 hover:bg-slate-800/50 transition-all duration-300",children:"ì‹œìŠ¤í…œ ìƒíƒœ"})]}),e.jsx(L,{value:"general",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(w,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:"h-5 w-5"}),"ì¼ë°˜ ì„¤ì •"]}),e.jsx(A,{children:"ì‹œìŠ¤í…œì˜ ê¸°ë³¸ì ì¸ ì„¤ì •ì„ ê´€ë¦¬í•©ë‹ˆë‹¤."})]}),e.jsxs(S,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"system_name",children:"ì‹œìŠ¤í…œ ì´ë¦„"}),e.jsx(c,{id:"system_name",value:u.system_name,onChange:s=>_(t=>({...t,system_name:s.target.value})),placeholder:"ì‹œìŠ¤í…œ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"api_sync_interval",children:"API ë™ê¸°í™” ì£¼ê¸° (ì´ˆ)"}),e.jsx(c,{id:"api_sync_interval",type:"number",value:u.api_sync_interval,onChange:s=>_(t=>({...t,api_sync_interval:parseInt(s.target.value)})),placeholder:"30"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"auto_approval_limit",children:"ìë™ ìŠ¹ì¸ í•œë„ (ì›)"}),e.jsx(c,{id:"auto_approval_limit",type:"number",value:u.auto_approval_limit,onChange:s=>_(t=>({...t,auto_approval_limit:parseInt(s.target.value)})),placeholder:"100000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"session_timeout",children:"ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ (ì´ˆ)"}),e.jsx(c,{id:"session_timeout",type:"number",value:u.session_timeout,onChange:s=>_(t=>({...t,session_timeout:parseInt(s.target.value)})),placeholder:"1800"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"max_concurrent_image_downloads",children:"ë™ì‹œ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ ì œí•œ"}),e.jsx(c,{id:"max_concurrent_image_downloads",type:"number",min:"1",max:"10",value:u.max_concurrent_image_downloads,onChange:s=>_(t=>({...t,max_concurrent_image_downloads:parseInt(s.target.value)})),placeholder:"1"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"ë¸Œë¼ìš°ì € ë©”ëª¨ë¦¬ ìµœì í™”ë¥¼ ìœ„í•´ ë™ì‹œ ë‹¤ìš´ë¡œë“œ ìˆ˜ë¥¼ ì œí•œí•©ë‹ˆë‹¤."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{children:"ì•Œë¦¼ ì†Œë¦¬"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ìƒˆë¡œìš´ ì•Œë¦¼ ì‹œ ì†Œë¦¬ë¥¼ ì¬ìƒí•©ë‹ˆë‹¤."})]}),e.jsx(P,{checked:u.notification_sound,onCheckedChange:s=>_(t=>({...t,notification_sound:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{children:"ì ê²€ ëª¨ë“œ"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ì‹œìŠ¤í…œì„ ì ê²€ ëª¨ë“œë¡œ ì „í™˜í•©ë‹ˆë‹¤."})]}),e.jsx(P,{checked:u.maintenance_mode,onCheckedChange:s=>_(t=>({...t,maintenance_mode:s}))})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(j,{onClick:()=>B("ì¼ë°˜",u),disabled:v,className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),v?"ì €ì¥ ì¤‘...":"ì„¤ì • ì €ì¥"]})})]})]})}),e.jsx(L,{value:"evolution",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(w,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(Ve,{className:"h-5 w-5"}),"ì—ë³¼ë£¨ì…˜ ë§¤ì¥ ê¸°ë³¸ ë°°íŒ… ì œí•œ"]}),e.jsx(A,{children:"ì—ë³¼ë£¨ì…˜ ì¹´ì§€ë…¸ ê²Œì„ì˜ ë§¤ì¥ ê¸°ë³¸ ìµœëŒ€ ë°°íŒ… ê¸ˆì•¡ì„ ì„¤ì •í•©ë‹ˆë‹¤."})]}),e.jsxs(S,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"evolution-partner-select",className:"text-xs text-slate-400",children:"íŒŒíŠ¸ë„ˆ ì„ íƒ"}),e.jsxs(X,{value:E,onValueChange:be,disabled:I,children:[e.jsx(Y,{id:"evolution-partner-select",className:"bg-slate-800/50 border-slate-700",children:e.jsx(Z,{placeholder:"íŒŒíŠ¸ë„ˆë¥¼ ì„ íƒí•˜ì„¸ìš”"})}),e.jsxs(ee,{children:[e.jsxs(q,{value:x.id,children:["ë³¸ì¸ (",x.nickname,")"]}),re.map(s=>e.jsxs(q,{value:s.id,children:["[",s.partner_type,"] ",s.nickname," (",s.username,")"]},s.id))]})]}),e.jsx("p",{className:"text-xs text-slate-500",children:"ì„¤ì •ì„ ì¡°íšŒ/ì €ì¥í•  íŒŒíŠ¸ë„ˆë¥¼ ì„ íƒí•˜ì„¸ìš”. ì„ íƒí•œ íŒŒíŠ¸ë„ˆì˜ opcodeì™€ secretì„ ì‚¬ìš©í•©ë‹ˆë‹¤."})]}),$!==null&&e.jsx("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"í˜„ì¬ ë§¤ì¥ ê¸°ë³¸ ì„¤ì •"}),e.jsxs("span",{className:"font-mono text-blue-400",children:[$.toLocaleString(),"ì›"]})]})}),e.jsxs("div",{children:[e.jsx(l,{className:"text-xs text-slate-400 mb-2",children:"ë§¤ì¥ ê¸°ë³¸ ìµœëŒ€ë°°íŒ…ê¸ˆì•¡"}),e.jsx(c,{type:"number",value:G,onChange:s=>{const t=parseInt(s.target.value)||0;M(t)},className:"bg-slate-800/50 border-slate-700 text-white font-mono",placeholder:"ê¸ˆì•¡ ì…ë ¥",disabled:I}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1.5",children:[G.toLocaleString(),"ì›"]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{value:1e6,label:"1ë°±ë§Œ"},{value:5e6,label:"5ë°±ë§Œ"},{value:1e7,label:"1ì²œë§Œ"},{value:5e7,label:"5ì²œë§Œ"},{value:1e8,label:"1ì–µ"},{value:2e8,label:"2ì–µ"},{value:3e8,label:"3ì–µ"},{value:5e8,label:"5ì–µ"}].map(s=>e.jsx(j,{variant:"outline",size:"sm",onClick:()=>M(s.value),disabled:I,className:"bg-slate-800/50 border-slate-700 hover:bg-slate-700 text-xs font-mono",children:s.label},s.value))}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(j,{variant:"outline",onClick:()=>{M($||1e8)},disabled:I,className:"flex-1 border-slate-700 text-slate-300 hover:bg-slate-700/50",children:"ì´ˆê¸°í™”"}),e.jsx(j,{onClick:Te,disabled:I,className:"flex-1 bg-gradient-to-r from-red-500 to-rose-600 hover:from-red-600 hover:to-rose-700",children:I?"ì €ì¥ ì¤‘...":"ì €ì¥"})]}),e.jsx("div",{className:"p-3 rounded-lg bg-yellow-500/10 border border-yellow-500/30",children:e.jsx("p",{className:"text-xs text-yellow-400",children:"âš ï¸ ì´ ì„¤ì •ì€ ë§¤ì¥ ì „ì²´ì˜ ê¸°ë³¸ ë°°íŒ… ì œí•œì…ë‹ˆë‹¤. ê°œë³„ íšŒì› ì„¤ì •ì€ íšŒì› ìƒì„¸ë³´ê¸°ì—ì„œ ê°€ëŠ¥í•©ë‹ˆë‹¤."})})]})]})}),e.jsxs(L,{value:"commission",className:"space-y-6",children:[e.jsxs(b,{children:[e.jsxs(w,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-5 w-5"}),"íŒŒíŠ¸ë„ˆë³„ ì»¤ë¯¸ì…˜ ê´€ë¦¬"]}),e.jsx(A,{children:"íŠ¹ì • íŒŒíŠ¸ë„ˆë¥¼ ì„ íƒí•˜ì—¬ ê°œë³„ ì»¤ë¯¸ì…˜ì„ ì„¤ì •í•©ë‹ˆë‹¤."})]}),e.jsxs(S,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(l,{htmlFor:"partner-select",className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4"}),"íŒŒíŠ¸ë„ˆ ì„ íƒ"]}),e.jsxs(X,{value:ye,onValueChange:Ie,children:[e.jsx(Y,{id:"partner-select",children:e.jsx(Z,{placeholder:"ì»¤ë¯¸ì…˜ì„ ì„¤ì •í•  íŒŒíŠ¸ë„ˆë¥¼ ì„ íƒí•˜ì„¸ìš”"})}),e.jsx(ee,{children:re.map(s=>e.jsx(q,{value:s.id,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:"outline",className:"text-xs",children:s.partner_type==="head_office"?"ëŒ€ë³¸ì‚¬":s.partner_type==="main_office"?"ë³¸ì‚¬":s.partner_type==="sub_office"?"ë¶€ë³¸ì‚¬":s.partner_type==="distributor"?"ì´íŒ":"ë§¤ì¥"}),e.jsxs("span",{children:[s.nickname," (",s.username,")"]})]})},s.id))})]})]}),r?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-slate-800/30 rounded-lg border border-slate-700/50",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"íŒŒíŠ¸ë„ˆëª…"}),e.jsx("p",{className:"font-medium text-white",children:r.nickname})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"ë“±ê¸‰"}),e.jsx(D,{children:r.partner_type==="head_office"?"ëŒ€ë³¸ì‚¬":r.partner_type==="main_office"?"ë³¸ì‚¬":r.partner_type==="sub_office"?"ë¶€ë³¸ì‚¬":r.partner_type==="distributor"?"ì´íŒ":"ë§¤ì¥"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"ë³´ìœ ê¸ˆ"}),e.jsxs("p",{className:"font-mono text-green-400",children:[r.balance?.toLocaleString(),"ì›"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"ìƒíƒœ"}),e.jsx(D,{variant:r.status==="active"?"default":"destructive",children:r.status==="active"?"í™œì„±":"ë¹„í™œì„±"})]})]})}),r.partner_type==="head_office"?e.jsx("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/10 rounded-lg border border-purple-200 dark:border-purple-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(se,{className:"h-5 w-5 text-purple-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-purple-900 dark:text-purple-100 mb-1",children:"ëŒ€ë³¸ì‚¬ ì»¤ë¯¸ì…˜"}),e.jsxs("p",{className:"text-sm text-purple-700 dark:text-purple-300",children:["ëŒ€ë³¸ì‚¬ëŠ” ìµœìƒìœ„ íŒŒíŠ¸ë„ˆë¡œ ëª¨ë“  ì»¤ë¯¸ì…˜ì´ ",e.jsx("strong",{children:"100%"}),"ë¡œ ê³ ì •ë©ë‹ˆë‹¤."]})]})]})}):e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/10 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"ğŸ’¡ ìƒìœ„ íŒŒíŠ¸ë„ˆì˜ ì»¤ë¯¸ì…˜ì„ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ì»¤ë¯¸ì…˜ ë³€ê²½ ì‹œ ì •ì‚°ì— ì¦‰ì‹œ ë°˜ì˜ë©ë‹ˆë‹¤."})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"partner_rolling",children:"ë¡¤ë§ ì»¤ë¯¸ì…˜ (%)"}),e.jsx(c,{id:"partner_rolling",type:"number",step:"0.1",min:"0",max:"100",value:f.commission_rolling,onChange:s=>F(t=>({...t,commission_rolling:parseFloat(s.target.value)||0})),disabled:r.partner_type==="head_office",className:r.partner_type==="head_office"?"bg-muted":""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r.partner_type==="head_office"?"ëŒ€ë³¸ì‚¬ ê³ ì •ê°’":"íšŒì› ì´ ë² íŒ…ì•¡ì— ëŒ€í•œ ì»¤ë¯¸ì…˜"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"partner_losing",children:"ë£¨ì§• ì»¤ë¯¸ì…˜ (%)"}),e.jsx(c,{id:"partner_losing",type:"number",step:"0.1",min:"0",max:"100",value:f.commission_losing,onChange:s=>F(t=>({...t,commission_losing:parseFloat(s.target.value)||0})),disabled:r.partner_type==="head_office",className:r.partner_type==="head_office"?"bg-muted":""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r.partner_type==="head_office"?"ëŒ€ë³¸ì‚¬ ê³ ì •ê°’":"íšŒì› ìˆœì†ì‹¤ì•¡ì— ëŒ€í•œ ì»¤ë¯¸ì…˜"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"partner_fee",children:"í™˜ì „ ìˆ˜ìˆ˜ë£Œ (%)"}),e.jsx(c,{id:"partner_fee",type:"number",step:"0.1",min:"0",max:"100",value:f.withdrawal_fee,onChange:s=>F(t=>({...t,withdrawal_fee:parseFloat(s.target.value)||0})),disabled:r.partner_type==="head_office",className:r.partner_type==="head_office"?"bg-muted":""}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r.partner_type==="head_office"?"ëŒ€ë³¸ì‚¬ ê³ ì •ê°’":"í™˜ì „ ì‹œ ì ìš©ë˜ëŠ” ìˆ˜ìˆ˜ë£Œ"})]})]}),e.jsx("div",{className:"flex justify-end pt-2",children:e.jsxs(j,{onClick:Fe,disabled:v||r.partner_type==="head_office",className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),v?"ì €ì¥ ì¤‘...":"ì»¤ë¯¸ì…˜ ì €ì¥"]})})]}):e.jsxs("div",{className:"text-center py-12 text-slate-400",children:[e.jsx(ue,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"íŒŒíŠ¸ë„ˆë¥¼ ì„ íƒí•˜ì—¬ ì»¤ë¯¸ì…˜ì„ ê´€ë¦¬í•˜ì„¸ìš”."})]})]})]}),e.jsxs(b,{children:[e.jsxs(w,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-5 w-5"}),"ì‹ ê·œ íŒŒíŠ¸ë„ˆ ê¸°ë³¸ ì»¤ë¯¸ì…˜"]}),e.jsx(A,{children:"ì‹ ê·œ íŒŒíŠ¸ë„ˆ ìƒì„± ì‹œ ìë™ ì ìš©ë˜ëŠ” ê¸°ë³¸ ì»¤ë¯¸ì…˜ì„ ì„¤ì •í•©ë‹ˆë‹¤."})]}),e.jsxs(S,{className:"space-y-6",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-blue-50 dark:from-purple-900/10 dark:to-blue-900/10 rounded-lg border border-purple-200 dark:border-purple-800",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(je,{className:"h-5 w-5 text-purple-500 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-purple-900 dark:text-purple-100 mb-2",children:"ì •ì‚° ë°©ì‹ ì„ íƒ"}),e.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300 mb-3",children:"íŒŒíŠ¸ë„ˆ ìˆ˜ìˆ˜ë£Œ ì •ì‚° ê³„ì‚° ë°©ì‹ì„ ì„ íƒí•©ë‹ˆë‹¤. ì„ íƒí•œ ë°©ì‹ì´ ëª¨ë“  ì •ì‚° í˜ì´ì§€ì— ì ìš©ë©ë‹ˆë‹¤."})]})]}),e.jsxs(X,{value:p.settlement_method,onValueChange:s=>y(t=>({...t,settlement_method:s})),children:[e.jsx(Y,{className:"w-full",children:e.jsx(Z,{placeholder:"ì •ì‚° ë°©ì‹ ì„ íƒ"})}),e.jsxs(ee,{children:[e.jsx(q,{value:"direct_subordinate",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:"ì§ì† í•˜ìœ„ ì •ì‚° (ê¶Œì¥)"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"ë‚´ ì´ ìˆ˜ì… - ì§ì† í•˜ìœ„ ì§€ê¸‰ì•¡ = ìˆœìˆ˜ìµ"})]})}),e.jsx(q,{value:"differential",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:"ì°¨ë“± ì •ì‚°"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"ìƒìœ„ê°€ í•˜ìœ„ ìˆ˜ìˆ˜ë£Œ ì œì™¸í•œ ì°¨ì•¡ë§Œ ë°›ìŒ"})]})})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-white/50 dark:bg-slate-800/50 rounded-lg text-sm space-y-2",children:p.settlement_method==="direct_subordinate"?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"ğŸ“Š ì§ì† í•˜ìœ„ ì •ì‚° ë°©ì‹"}),e.jsxs("ul",{className:"text-xs text-slate-700 dark:text-slate-300 space-y-1 ml-4",children:[e.jsx("li",{children:"â€¢ ê° íŒŒíŠ¸ë„ˆëŠ” ëª¨ë“  í•˜ìœ„ ì‚¬ìš©ìë¡œë¶€í„° ì „ì²´ ìˆ˜ìˆ˜ë£Œë¥¼ ë°›ìŒ"}),e.jsx("li",{children:"â€¢ ì§ì† í•˜ìœ„ íŒŒíŠ¸ë„ˆë“¤ì—ê²Œ ê·¸ë“¤ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ì§€ê¸‰"}),e.jsx("li",{children:"â€¢ ìˆœìˆ˜ìµ = ì´ ìˆ˜ì… - ì§ì† í•˜ìœ„ ì§€ê¸‰ì•¡"}),e.jsx("li",{children:"â€¢ ì˜ˆ: ë³¸ì‚¬ê°€ 100ë§Œì› ìˆ˜ì… â†’ ë¶€ë³¸ì‚¬ì— 60ë§Œì› ì§€ê¸‰ â†’ ìˆœìˆ˜ìµ 40ë§Œì›"})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:"ğŸ“‰ ì°¨ë“± ì •ì‚° ë°©ì‹"}),e.jsxs("ul",{className:"text-xs text-slate-700 dark:text-slate-300 space-y-1 ml-4",children:[e.jsx("li",{children:"â€¢ ìƒìœ„ê°€ í•˜ìœ„ì˜ ìˆ˜ìˆ˜ë£Œë¥¼ ì œì™¸í•œ ì°¨ì•¡ë§Œ ë°›ìŒ"}),e.jsx("li",{children:"â€¢ ê° ê³„ì¸µì´ ê³ ì •ëœ ì°¨ì•¡ì„ ë°›ìŒ"}),e.jsx("li",{children:"â€¢ ì˜ˆ: ë§¤ì¥ 0.1% â†’ ì´íŒ 0.2% â†’ ë¶€ë³¸ì‚¬ 0.3%"}),e.jsx("li",{children:"â€¢ ë² íŒ… 100ë§Œì› ì‹œ: ë§¤ì¥ 1ì²œì›, ì´íŒ 1ì²œì›, ë¶€ë³¸ì‚¬ 1ì²œì›"})]})]})})]})}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/10 dark:to-purple-900/10 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(pe,{className:"h-5 w-5 text-blue-500 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"ê¸°ë³¸ ì»¤ë¯¸ì…˜ ì•ˆë‚´"}),e.jsxs("ul",{className:"text-sm text-blue-700 dark:text-blue-300 space-y-1",children:[e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"ì‹ ê·œ íŒŒíŠ¸ë„ˆ"}),": íŒŒíŠ¸ë„ˆ ìƒì„± ì‹œ ì´ ê°’ì´ ìë™ìœ¼ë¡œ ì ìš©ë©ë‹ˆë‹¤."]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"ê°œë³„ ì„¤ì •"}),": ìœ„ íŒŒíŠ¸ë„ˆë³„ ì»¤ë¯¸ì…˜ ê´€ë¦¬ì—ì„œ ê°œë³„ ìˆ˜ì • ê°€ëŠ¥í•©ë‹ˆë‹¤."]}),e.jsxs("li",{children:["â€¢ ",e.jsx("strong",{children:"ëŒ€ë³¸ì‚¬"}),": ëŒ€ë³¸ì‚¬ëŠ” ìë™ìœ¼ë¡œ 100%ë¡œ ì„¤ì •ë©ë‹ˆë‹¤."]})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"default_rolling_commission",children:"ê¸°ë³¸ ë¡¤ë§ ì»¤ë¯¸ì…˜ (%)"}),e.jsx(c,{id:"default_rolling_commission",type:"number",step:"0.1",value:p.default_rolling_commission,onChange:s=>y(t=>({...t,default_rolling_commission:parseFloat(s.target.value)})),placeholder:"0.5"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"íšŒì› ì´ ë² íŒ…ì•¡ì— ëŒ€í•œ ì»¤ë¯¸ì…˜ ë¹„ìœ¨"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"default_losing_commission",children:"ê¸°ë³¸ ë£¨ì§• ì»¤ë¯¸ì…˜ (%)"}),e.jsx(c,{id:"default_losing_commission",type:"number",step:"0.1",value:p.default_losing_commission,onChange:s=>y(t=>({...t,default_losing_commission:parseFloat(s.target.value)})),placeholder:"5.0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"íšŒì› ìˆœì†ì‹¤ì•¡(ë² íŒ…-ë‹¹ì²¨)ì— ëŒ€í•œ ì»¤ë¯¸ì…˜ ë¹„ìœ¨"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"default_withdrawal_fee",children:"ê¸°ë³¸ í™˜ì „ ìˆ˜ìˆ˜ë£Œ (%)"}),e.jsx(c,{id:"default_withdrawal_fee",type:"number",step:"0.1",value:p.default_withdrawal_fee,onChange:s=>y(t=>({...t,default_withdrawal_fee:parseFloat(s.target.value)})),placeholder:"1.0"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"íšŒì› í™˜ì „ ì‹œ ì ìš©ë˜ëŠ” ìˆ˜ìˆ˜ë£Œ ë¹„ìœ¨"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"min_withdrawal_amount",children:"ìµœì†Œ ì¶œê¸ˆ ê¸ˆì•¡ (ì›)"}),e.jsx(c,{id:"min_withdrawal_amount",type:"number",value:p.min_withdrawal_amount,onChange:s=>y(t=>({...t,min_withdrawal_amount:parseInt(s.target.value)})),placeholder:"10000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"max_withdrawal_amount",children:"ìµœëŒ€ ì¶œê¸ˆ ê¸ˆì•¡ (ì›)"}),e.jsx(c,{id:"max_withdrawal_amount",type:"number",value:p.max_withdrawal_amount,onChange:s=>y(t=>({...t,max_withdrawal_amount:parseInt(s.target.value)})),placeholder:"1000000"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"daily_withdrawal_limit",children:"ì¼ì¼ ì¶œê¸ˆ í•œë„ (ì›)"}),e.jsx(c,{id:"daily_withdrawal_limit",type:"number",value:p.daily_withdrawal_limit,onChange:s=>y(t=>({...t,daily_withdrawal_limit:parseInt(s.target.value)})),placeholder:"5000000"})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(j,{onClick:()=>B("ì»¤ë¯¸ì…˜",p),disabled:v,className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),v?"ì €ì¥ ì¤‘...":"ì„¤ì • ì €ì¥"]})})]})]})]}),e.jsx(L,{value:"security",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(w,{children:[e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5"}),"ë³´ì•ˆ ì„¤ì •"]}),e.jsx(A,{children:"ì‹œìŠ¤í…œ ë³´ì•ˆ ê´€ë ¨ ì„¤ì •ì„ ê´€ë¦¬í•©ë‹ˆë‹¤."})]}),e.jsxs(S,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"password_min_length",children:"ìµœì†Œ ë¹„ë°€ë²ˆí˜¸ ê¸¸ì´"}),e.jsx(c,{id:"password_min_length",type:"number",value:g.password_min_length,onChange:s=>N(t=>({...t,password_min_length:parseInt(s.target.value)})),placeholder:"8"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"max_login_attempts",children:"ìµœëŒ€ ë¡œê·¸ì¸ ì‹œë„ íšŸìˆ˜"}),e.jsx(c,{id:"max_login_attempts",type:"number",value:u.max_login_attempts,onChange:s=>_(t=>({...t,max_login_attempts:parseInt(s.target.value)})),placeholder:"5"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"login_log_retention_days",children:"ë¡œê·¸ì¸ ë¡œê·¸ ë³´ê´€ ì¼ìˆ˜"}),e.jsx(c,{id:"login_log_retention_days",type:"number",value:g.login_log_retention_days,onChange:s=>N(t=>({...t,login_log_retention_days:parseInt(s.target.value)})),placeholder:"90"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{children:"íŠ¹ìˆ˜ë¬¸ì í•„ìˆ˜"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ë¹„ë°€ë²ˆí˜¸ì— íŠ¹ìˆ˜ë¬¸ì í¬í•¨ì„ í•„ìˆ˜ë¡œ í•©ë‹ˆë‹¤."})]}),e.jsx(P,{checked:g.password_require_special,onCheckedChange:s=>N(t=>({...t,password_require_special:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{children:"IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"í—ˆìš©ëœ IPì—ì„œë§Œ ì ‘ì†ì„ í—ˆìš©í•©ë‹ˆë‹¤."})]}),e.jsx(P,{checked:g.ip_whitelist_enabled,onCheckedChange:async s=>{N(t=>({...t,ip_whitelist_enabled:s}));try{const{error:t}=await m.from("system_settings").upsert({setting_key:"ip_whitelist_enabled",setting_value:s.toString(),setting_type:"boolean",partner_level:x.level,description:"IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ í™œì„±í™”"},{onConflict:"setting_key"});if(t)throw t;i.success(s?"IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ê°€ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.":"IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ê°€ ë¹„í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤.")}catch(t){console.error("ì„¤ì • ì €ì¥ ì‹¤íŒ¨:",t),i.error("ì„¤ì • ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.")}}})]}),g.ip_whitelist_enabled&&e.jsxs("div",{className:"p-4 border rounded-lg bg-muted/10 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4 text-blue-500"}),e.jsx(l,{className:"text-sm font-medium",children:"í—ˆìš© IP ì£¼ì†Œ ê´€ë¦¬"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{placeholder:"IP ì£¼ì†Œ ì…ë ¥ (ì˜ˆ: 192.168.1.1)",value:V,onChange:s=>le(s.target.value),onKeyDown:s=>{s.key==="Enter"&&(s.preventDefault(),de())}}),e.jsxs(j,{onClick:de,size:"sm",children:[e.jsx(Me,{className:"h-4 w-4 mr-1"}),"ì¶”ê°€"]})]}),C.length>0?e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{className:"text-xs text-muted-foreground",children:["ë“±ë¡ëœ IP ì£¼ì†Œ (",C.length,"ê°œ)"]}),e.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1",children:C.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-background rounded border",children:[e.jsx("code",{className:"text-sm",children:s}),e.jsx(j,{onClick:()=>Se(s),variant:"ghost",size:"sm",className:"h-6 px-2",children:e.jsx(Ue,{className:"h-3 w-3"})})]},t))})]}):e.jsx("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"ë“±ë¡ëœ IP ì£¼ì†Œê°€ ì—†ìŠµë‹ˆë‹¤. IPë¥¼ ì¶”ê°€í•˜ì„¸ìš”."}),e.jsxs("div",{className:"text-xs text-yellow-600 dark:text-yellow-500 flex items-start gap-2",children:[e.jsx(We,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"ì£¼ì˜ì‚¬í•­:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-1",children:[e.jsx("li",{children:"IP í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸ê°€ í™œì„±í™”ë˜ë©´ ë“±ë¡ëœ IPì—ì„œë§Œ ì ‘ì† ê°€ëŠ¥í•©ë‹ˆë‹¤."}),e.jsx("li",{children:"ë³¸ì¸ IPë¥¼ ë¨¼ì € ë“±ë¡í•œ í›„ í™œì„±í™”í•˜ì„¸ìš”."}),e.jsx("li",{children:"ì˜ëª»ëœ ì„¤ì • ì‹œ ì ‘ì†ì´ ì°¨ë‹¨ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤."})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{children:"2ë‹¨ê³„ ì¸ì¦"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ë¡œê·¸ì¸ ì‹œ 2ë‹¨ê³„ ì¸ì¦ì„ ìš”êµ¬í•©ë‹ˆë‹¤."})]}),e.jsx(P,{checked:g.two_factor_enabled,onCheckedChange:s=>N(t=>({...t,two_factor_enabled:s}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{children:"ê°ì‚¬ ë¡œê·¸"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ëª¨ë“  ê´€ë¦¬ì í–‰ë™ì„ ë¡œê·¸ë¡œ ê¸°ë¡í•©ë‹ˆë‹¤."})]}),e.jsx(P,{checked:g.audit_log_enabled,onCheckedChange:s=>N(t=>({...t,audit_log_enabled:s}))})]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(j,{onClick:()=>B("ë³´ì•ˆ",g),disabled:v,className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),v?"ì €ì¥ ì¤‘...":"ì„¤ì • ì €ì¥"]})})]})]})}),e.jsx(L,{value:"system",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsx(w,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(He,{className:"h-5 w-5"}),"ì‹œìŠ¤í…œ ìƒíƒœ"]})}),e.jsx(S,{className:"space-y-4",children:h&&e.jsxs(e.Fragment,{children:[e.jsx(K,{status:h.database_status,label:"ë°ì´í„°ë² ì´ìŠ¤"}),e.jsx(K,{status:h.api_status,label:"ì™¸ë¶€ API"}),e.jsx(K,{status:h.websocket_status,label:"WebSocket"})]})})]}),e.jsxs(b,{children:[e.jsx(w,{children:e.jsxs(k,{className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-5 w-5"}),"ì‹œìŠ¤í…œ ì •ë³´"]})}),e.jsx(S,{className:"space-y-4",children:h&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"í™œì„± ì‚¬ìš©ì"}),e.jsxs(D,{children:[h.active_users,"ëª…"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"ì‹œìŠ¤í…œ ì—…íƒ€ì„"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:h.system_uptime})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ "}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[h.memory_usage,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"CPU ì‚¬ìš©ë¥ "}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[h.cpu_usage,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"ë§ˆì§€ë§‰ ë°±ì—…"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:h.last_backup})]})]})})]})]})})]})]})}export{es as SystemSettings,es as default};
