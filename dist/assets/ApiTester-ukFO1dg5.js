import{r as v,j as e}from"./react-core-CwM-CeLv.js";import{C as m,a as f,b as y,d as S,e as u,l as c,I as T,m as w,T as ue,i as xe,j as R,k as U,B as C,S as he,p as pe,q as je,r as ge,X as fe,t as ye,G as b,Y as W,s as A,Z as Ne}from"./index-B_UTQDGv.js";import{k as t}from"./vendor-CQn7sZ7L.js";import{Z as ve,R as V,at as we,am as J,K as ee,s as se,D as Y,V as be,o as H,n as ae,z as _e,au as Se}from"./lucide-icons-wLPRtdhM.js";import"./radix-ui-SX2QAG6c.js";import"./supabase-r6ABpEO8.js";function ke(){const[Z,re]=v.useState("info"),[x,I]=v.useState({opcode:"eeo2211",secretKey:"CpxIc4mzOSfQaKNLzAJoSoUa8TmVuskj",token:"153b28230ef1c40c11ff526e9da93e2b",username:"smcdev11",amount:1e4,provider_id:300,game_id:300001,year:new Date().getFullYear().toString(),month:(new Date().getMonth()+1).toString()}),[_,O]=v.useState(null),[j,h]=v.useState(!1),[k,te]=v.useState("https://vi8282.com/proxy"),[E,ne]=v.useState(""),[L,ie]=v.useState([]),[l,ce]=v.useState(null),[o,D]=v.useState(null),[q,G]=v.useState(null),F=[{id:"info",name:"ê¸°ë³¸ ì •ë³´ ì¡°íšŒ",endpoint:"/api/info",method:"GET",description:"OPCODE ê¸°ë³¸ ì •ë³´ ë° ìž”ê³  ì¡°íšŒ",requiredParams:["opcode","secretKey"],testFunction:async s=>await b.getInfo(s.opcode,s.secretKey)},{id:"create-account",name:"ê³„ì • ìƒì„±",endpoint:"/api/account",method:"POST",description:"ìƒˆ ì‚¬ìš©ìž ê³„ì • ìƒì„± ë° í† í° ë°œê¸‰",requiredParams:["opcode","username","secretKey"],testFunction:async s=>await b.createAccount(s.opcode,s.username,s.secretKey)},{id:"balance-all",name:"ì „ì²´ ìž”ê³  ì¡°íšŒ",endpoint:"/api/account/balance",method:"PATCH",description:"ëª¨ë“  ê³„ì •ì˜ ìž”ê³  ì¼ê´„ ì¡°íšŒ",requiredParams:["opcode","secretKey"],testFunction:async s=>await b.getAllAccountBalances(s.opcode,s.secretKey)},{id:"deposit",name:"ê³„ì • ìž…ê¸ˆ",endpoint:"/api/account/balance",method:"POST",description:"íŠ¹ì • ê³„ì •ì— ê¸ˆì•¡ ìž…ê¸ˆ",requiredParams:["opcode","username","token","amount","secretKey"],testFunction:async s=>await b.depositToAccount(s.opcode,s.username,s.token,s.amount,s.secretKey)},{id:"game-list",name:"ê²Œìž„ ëª©ë¡ ì¡°íšŒ",endpoint:"/api/game/lists",method:"GET",description:"íŠ¹ì • ì œê³µì‚¬ì˜ ê²Œìž„ ëª©ë¡ ì¡°íšŒ",requiredParams:["opcode","provider_id","secretKey"],testFunction:async s=>await b.getGameList(s.opcode,s.provider_id,s.secretKey)},{id:"game-launch",name:"ê²Œìž„ ì‹¤í–‰",endpoint:"/api/game/launch",method:"POST",description:"ê²Œìž„ ì‹¤í–‰ URL ìš”ì²­",requiredParams:["opcode","username","token","game_id","secretKey"],testFunction:async s=>await b.launchGame(s.opcode,s.username,s.token,s.game_id,s.secretKey)}],le=async()=>{h(!0);try{console.log("ðŸ”— Proxy ì—°ê²° í…ŒìŠ¤íŠ¸ ì‹œìž‘:",k);const s={url:"https://api.invest-ho.com/api/info",method:"GET",headers:{"Content-Type":"application/json"},body:{opcode:x.opcode,signature:W([x.opcode],x.secretKey)}};console.log("ðŸ“¤ Proxy ìš”ì²­ ë°ì´í„°:",s);const a=await fetch(k,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(console.log("ðŸ“¥ Proxy ì‘ë‹µ ìƒíƒœ:",a.status,a.statusText),!a.ok)throw new Error(`Proxy ì„œë²„ ì˜¤ë¥˜: ${a.status} ${a.statusText}`);const n=await a.json();console.log("ðŸ“¥ Proxy ì‘ë‹µ ë°ì´í„°:",n),O({success:!0,status:a.status,data:n,timestamp:new Date().toISOString(),proxy_url:k,request:s}),t.success("Proxy ì„œë²„ ì—°ê²° ì„±ê³µ!")}catch(s){console.error("âŒ Proxy ì—°ê²° ì‹¤íŒ¨:",s),O({success:!1,error:s.message,timestamp:new Date().toISOString(),proxy_url:k}),t.error(`Proxy ì—°ê²° ì‹¤íŒ¨: ${s.message}`)}finally{h(!1)}},z=async s=>{h(!0);try{console.log(`ðŸ§ª API í…ŒìŠ¤íŠ¸ ì‹œìž‘: ${s.name}`),console.log("ðŸ“¤ í…ŒìŠ¤íŠ¸ íŒŒë¼ë¯¸í„°:",x);const a=await s.testFunction(x);console.log(`ðŸ“¥ API í…ŒìŠ¤íŠ¸ ê²°ê³¼ (${s.name}):`,a),O({test:s.name,endpoint:s.endpoint,method:s.method,success:!a.error,data:a.data,error:a.error,status:a.status,timestamp:new Date().toISOString(),params:{...x,secretKey:"***ìˆ¨ê¹€***"}}),a.error?t.error(`${s.name} ì‹¤íŒ¨: ${a.error}`):t.success(`${s.name} ì„±ê³µ!`)}catch(a){console.error(`âŒ API í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ (${s.name}):`,a),O({test:s.name,success:!1,error:a.message,timestamp:new Date().toISOString()}),t.error(`${s.name} ì‹¤íŒ¨: ${a.message}`)}finally{h(!1)}},oe=s=>{navigator.clipboard.writeText(s),t.success("í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.")},B=async()=>{if(!E.trim()){t.error("ê²€ìƒ‰ì–´ë¥¼ ìž…ë ¥í•˜ì„¸ìš”");return}h(!0);try{const{data:s,error:a}=await A.rpc("search_users_for_sync",{p_search_term:E,p_limit:20});if(a)throw a;ie(s||[]),t.success(`${s?.length||0}ëª…ì˜ ì‚¬ìš©ìžë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤`)}catch(s){console.error("ì‚¬ìš©ìž ê²€ìƒ‰ ì˜¤ë¥˜:",s),t.error(`ê²€ìƒ‰ ì‹¤íŒ¨: ${s.message}`)}finally{h(!1)}},de=async s=>{ce(s),G(null),await K(s.user_id)},K=async s=>{h(!0);try{const{data:a,error:n}=await A.rpc("verify_user_data_consistency",{p_user_id:s});if(n)throw n;const{data:g}=await A.from("users").select("username, api_token, referrer_id").eq("id",s).single();if(g){const{data:N}=await A.from("partners").select("opcode, secret_key").eq("id",g.referrer_id).single();if(N){const r=await b.getAllAccountBalances(N.opcode,N.secret_key);if(r.data){let i=null;Array.isArray(r.data)?i=r.data.find(p=>p.username===g.username||p.user_id===g.username):typeof r.data=="object"&&(r.data.username===g.username||r.data.user_id===g.username)&&(i=r.data);const d=a.map(p=>p.check_type==="balance_check"&&i?{...p,api_value:parseFloat(i.balance||0),difference:p.gms_value-parseFloat(i.balance||0)}:p);G(d)}else G(a)}}t.success("ë°ì´í„° ì¼ê´€ì„± ì²´í¬ ì™„ë£Œ")}catch(a){console.error("ì¼ê´€ì„± ì²´í¬ ì˜¤ë¥˜:",a),t.error(`ì²´í¬ ì‹¤íŒ¨: ${a.message}`)}finally{h(!1)}},me=async()=>{if(!l){t.error("ì‚¬ìš©ìžë¥¼ ë¨¼ì € ì„ íƒí•˜ì„¸ìš”");return}h(!0),D({status:"running",step:"preparing"});try{const s=l.user_id,{data:a}=await A.from("users").select("username, api_token, referrer_id").eq("id",s).single();if(!a)throw new Error("ì‚¬ìš©ìž ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");const{data:n}=await A.from("partners").select("opcode, secret_key").eq("id",a.referrer_id).single();if(!n)throw new Error("íŒŒíŠ¸ë„ˆ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤");let g=0;const N=[];D({status:"running",step:"balance"});try{const r=await b.getAllAccountBalances(n.opcode,n.secret_key);if(r.data){let i=null;Array.isArray(r.data)?i=r.data.find(d=>d.username===a.username||d.user_id===a.username):typeof r.data=="object"&&(r.data.username===a.username||r.data.user_id===a.username)&&(i=r.data),i&&console.log("API ìž”ê³ :",i.balance,"GMS ìž”ê³ :",l.balance)}}catch(r){N.push({type:"balance",error:r.message})}D({status:"running",step:"transactions"});try{const r=new Date;r.setDate(r.getDate()-30);const i=new Date,d=await Ne("/api/account/balance","VIEW",{opcode:n.opcode,username:a.username,date_from:r.toISOString().split("T")[0],date_to:i.toISOString().split("T")[0],signature:W([n.opcode,a.username,r.toISOString().split("T")[0],i.toISOString().split("T")[0]],n.secret_key)});d.data&&console.log("ìž…ì¶œê¸ˆ ë‚´ì—­:",d.data)}catch(r){N.push({type:"transactions",error:r.message})}D({status:"running",step:"betting"});try{const r=new Date,i=[];for(let d=0;d<3;d++){const p=new Date(r.getFullYear(),r.getMonth()-d,1);i.push({year:p.getFullYear().toString(),month:(p.getMonth()+1).toString()})}for(const{year:d,month:p}of i){const $=await b.getGameHistory(n.opcode,d,p,0,1e3,n.secret_key);if($.data){let M=[];Array.isArray($.data)?M=$.data:$.data.DATA&&Array.isArray($.data.DATA)&&(M=$.data.DATA);const Q=M.filter(P=>(P.username||P.user_id||P.userId)===a.username);if(Q.length>0){const{data:P}=await A.rpc("save_betting_records_batch",{p_records:Q});P&&P.length>0&&(g+=P[0].success_count||0)}}}}catch(r){N.push({type:"betting",error:r.message})}D({status:"completed",totalSynced:g,errors:N,timestamp:new Date().toISOString()}),N.length===0?t.success(`ë™ê¸°í™” ì™„ë£Œ! ${g}ê±´ ì²˜ë¦¬ë¨`):t.warning(`ë™ê¸°í™” ì™„ë£Œ (ì¼ë¶€ ì˜¤ë¥˜): ${g}ê±´ ì²˜ë¦¬, ${N.length}ê°œ ì˜¤ë¥˜`),await K(s)}catch(s){console.error("ë™ê¸°í™” ì˜¤ë¥˜:",s),D({status:"failed",error:s.message}),t.error(`ë™ê¸°í™” ì‹¤íŒ¨: ${s.message}`)}finally{h(!1)}},X=async s=>{if(!l){t.error("ì‚¬ìš©ìžë¥¼ ë¨¼ì € ì„ íƒí•˜ì„¸ìš”");return}if(confirm(`${l.username}ì˜ ë°ì´í„°ë¥¼ "${s}" ë°©ì‹ìœ¼ë¡œ ìˆ˜ì •í•˜ì‹œê² ìŠµë‹ˆê¹Œ?

ì´ ìž‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`)){h(!0);try{const{data:a,error:n}=await A.rpc("auto_fix_data_inconsistency",{p_user_id:l.user_id,p_fix_type:s,p_confirmed:!0});if(n)throw n;a&&a.length>0&&a[0].success?(t.success(`ìˆ˜ì • ì™„ë£Œ: ${a[0].fix_applied}`),await K(l.user_id),await B()):t.error("ìˆ˜ì • ì‹¤íŒ¨")}catch(a){console.error("ìžë™ ìˆ˜ì • ì˜¤ë¥˜:",a),t.error(`ìˆ˜ì • ì‹¤íŒ¨: ${a.message}`)}finally{h(!1)}}};return F.find(s=>s.id===Z),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsxs(f,{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(ve,{className:"h-5 w-5"}),"Proxy ì„œë²„ ì„¤ì •"]}),e.jsx(S,{children:"ì™¸ë¶€ API í˜¸ì¶œì„ ìœ„í•œ Proxy ì„œë²„ ì£¼ì†Œë¥¼ ì„¤ì •í•˜ê³  ì—°ê²°ì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤."})]}),e.jsx(u,{className:"space-y-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(c,{htmlFor:"proxy-url",children:"Proxy ì„œë²„ URL"}),e.jsx(T,{id:"proxy-url",value:k,onChange:s=>te(s.target.value),placeholder:"https://vi8282.com/proxy"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(w,{onClick:le,disabled:j,className:"flex items-center gap-2",children:[e.jsx(V,{className:`h-4 w-4 ${j?"animate-spin":""}`}),"ì—°ê²° í…ŒìŠ¤íŠ¸"]})})]})})]}),e.jsxs(m,{children:[e.jsxs(f,{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"}),"API ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸"]}),e.jsx(S,{children:"ê° API ì—”ë“œí¬ì¸íŠ¸ë¥¼ ê°œë³„ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ê³  ì‘ë‹µì„ í™•ì¸í•©ë‹ˆë‹¤."})]}),e.jsx(u,{children:e.jsxs(ue,{value:Z,onValueChange:re,children:[e.jsxs(xe,{className:"grid w-full grid-cols-4",children:[e.jsx(R,{value:"info",children:"ê¸°ë³¸ ì •ë³´"}),e.jsx(R,{value:"create-account",children:"ê³„ì • ê´€ë¦¬"}),e.jsx(R,{value:"game-list",children:"ê²Œìž„ ê´€ë¦¬"}),e.jsx(R,{value:"user-sync",children:"ì‚¬ìš©ìž ë™ê¸°í™”"})]}),e.jsx(U,{value:"info",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:F.slice(0,3).map(s=>e.jsxs(m,{className:"cursor-pointer hover:bg-muted/50",children:[e.jsxs(f,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{className:"text-sm",children:s.name}),e.jsx(C,{variant:"outline",children:s.method})]}),e.jsx(S,{className:"text-xs",children:s.description})]}),e.jsx(u,{className:"pt-0",children:e.jsxs(w,{onClick:()=>z(s),disabled:j,size:"sm",className:"w-full",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),"í…ŒìŠ¤íŠ¸ ì‹¤í–‰"]})})]},s.id))})}),e.jsx(U,{value:"create-account",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.slice(3,5).map(s=>e.jsxs(m,{className:"cursor-pointer hover:bg-muted/50",children:[e.jsxs(f,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{className:"text-sm",children:s.name}),e.jsx(C,{variant:"outline",children:s.method})]}),e.jsx(S,{className:"text-xs",children:s.description})]}),e.jsx(u,{className:"pt-0",children:e.jsxs(w,{onClick:()=>z(s),disabled:j,size:"sm",className:"w-full",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),"í…ŒìŠ¤íŠ¸ ì‹¤í–‰"]})})]},s.id))})}),e.jsx(U,{value:"game-list",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.slice(5).map(s=>e.jsxs(m,{className:"cursor-pointer hover:bg-muted/50",children:[e.jsxs(f,{className:"pb-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(y,{className:"text-sm",children:s.name}),e.jsx(C,{variant:"outline",children:s.method})]}),e.jsx(S,{className:"text-xs",children:s.description})]}),e.jsx(u,{className:"pt-0",children:e.jsxs(w,{onClick:()=>z(s),disabled:j,size:"sm",className:"w-full",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),"í…ŒìŠ¤íŠ¸ ì‹¤í–‰"]})})]},s.id))})}),e.jsxs(U,{value:"user-sync",className:"space-y-4",children:[e.jsxs(m,{children:[e.jsxs(f,{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),"ì‚¬ìš©ìž ê²€ìƒ‰"]}),e.jsx(S,{children:"ë™ê¸°í™”í•  ì‚¬ìš©ìžë¥¼ ê²€ìƒ‰í•˜ì„¸ìš” (ì‚¬ìš©ìžëª… ë˜ëŠ” ë‹‰ë„¤ìž„)"})]}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{placeholder:"ì‚¬ìš©ìžëª… ë˜ëŠ” ë‹‰ë„¤ìž„ ìž…ë ¥...",value:E,onChange:s=>ne(s.target.value),onKeyPress:s=>s.key==="Enter"&&B()}),e.jsxs(w,{onClick:B,disabled:j,children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"ê²€ìƒ‰"]})]}),L.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{children:["ê²€ìƒ‰ ê²°ê³¼ (",L.length,"ëª…)"]}),e.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:L.map(s=>e.jsx(m,{className:`cursor-pointer hover:bg-muted/50 ${l?.user_id===s.user_id?"border-primary":""}`,onClick:()=>de(s),children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"font-mono",children:s.username}),e.jsx(C,{variant:"outline",children:s.nickname})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["íŒŒíŠ¸ë„ˆ: ",s.partner_name," (",s.opcode,")"]})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsxs("div",{className:"font-mono",children:["â‚©",Number(s.balance||0).toLocaleString()]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ë² íŒ… ",s.total_bets,"ê±´"]})]})]})})},s.user_id))})]})]})]}),l&&e.jsxs(e.Fragment,{children:[e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5"}),"ì„ íƒëœ ì‚¬ìš©ìž"]}),e.jsx(C,{variant:"outline",children:l.status})]})}),e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{className:"text-xs text-muted-foreground",children:"ì‚¬ìš©ìžëª…"}),e.jsx("div",{className:"font-mono",children:l.username})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-xs text-muted-foreground",children:"ë‹‰ë„¤ìž„"}),e.jsx("div",{children:l.nickname})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-xs text-muted-foreground",children:"í˜„ìž¬ ìž”ê³ "}),e.jsxs("div",{className:"font-mono",children:["â‚©",Number(l.balance||0).toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-xs text-muted-foreground",children:"ì´ ë² íŒ…"}),e.jsxs("div",{children:[l.total_bets,"ê±´"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(w,{onClick:me,disabled:j,className:"flex-1",children:[e.jsx(V,{className:`h-4 w-4 mr-2 ${j?"animate-spin":""}`}),"ì „ì²´ ë°ì´í„° ë™ê¸°í™”"]}),e.jsxs(w,{onClick:()=>K(l.user_id),disabled:j,variant:"outline",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"ì¼ê´€ì„± ì²´í¬"]})]})]})]}),o&&e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[o.status==="completed"?e.jsx(be,{className:"h-5 w-5 text-green-500"}):o.status==="failed"?e.jsx(H,{className:"h-5 w-5 text-red-500"}):e.jsx(V,{className:"h-5 w-5 animate-spin"}),"ë™ê¸°í™” ì§„í–‰ ìƒíƒœ"]})}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"ìƒíƒœ:"}),e.jsx(C,{variant:o.status==="completed"?"default":o.status==="failed"?"destructive":"secondary",children:o.status})]}),o.step&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"í˜„ìž¬ ë‹¨ê³„:"}),e.jsx("span",{className:"font-mono",children:o.step})]}),o.totalSynced!==void 0&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"ë™ê¸°í™”ëœ ê¸°ë¡:"}),e.jsxs("span",{className:"font-mono",children:[o.totalSynced,"ê±´"]})]}),o.errors&&o.errors.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx(c,{className:"text-red-500",children:"ì˜¤ë¥˜ ëª©ë¡"}),e.jsx("div",{className:"mt-2 space-y-1",children:o.errors.map((s,a)=>e.jsxs("div",{className:"text-sm text-red-500 bg-red-50 p-2 rounded",children:[s.type,": ",s.error]},a))})]})]})})]}),q&&q.length>0&&e.jsxs(m,{children:[e.jsxs(f,{children:[e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),"ë°ì´í„° ì¼ê´€ì„± ì²´í¬ ê²°ê³¼"]}),e.jsx(S,{children:"GMS ë‚´ë¶€ ë°ì´í„°ì™€ ì™¸ë¶€ API ë°ì´í„° ë¹„êµ"})]}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-4",children:[q.map((s,a)=>e.jsx(m,{className:s.status==="warning"?"border-yellow-500":s.status==="error"?"border-red-500":"border-green-500",children:e.jsxs(u,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.status==="success"&&e.jsx(ae,{className:"h-4 w-4 text-green-500"}),s.status==="warning"&&e.jsx(_e,{className:"h-4 w-4 text-yellow-500"}),s.status==="error"&&e.jsx(H,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"font-medium",children:s.check_type.replace(/_/g," ").toUpperCase()})]}),e.jsx(C,{variant:s.status==="success"?"default":s.status==="warning"?"secondary":"destructive",children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx(c,{className:"text-xs text-muted-foreground",children:"GMS ê°’"}),e.jsx("div",{className:"font-mono",children:s.gms_value!==null?`â‚©${Number(s.gms_value).toLocaleString()}`:"N/A"})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-xs text-muted-foreground",children:"API ê°’"}),e.jsx("div",{className:"font-mono",children:s.api_value!==null?`â‚©${Number(s.api_value).toLocaleString()}`:"N/A"})]}),e.jsxs("div",{children:[e.jsx(c,{className:"text-xs text-muted-foreground",children:"ì°¨ì´"}),e.jsx("div",{className:`font-mono ${Math.abs(s.difference||0)>.01?"text-red-500":"text-green-500"}`,children:s.difference!==null?`â‚©${Number(s.difference).toLocaleString()}`:"N/A"})]})]}),s.details&&e.jsx("div",{className:"mt-2 p-2 bg-muted rounded text-xs",children:e.jsx("pre",{className:"whitespace-pre-wrap",children:JSON.stringify(s.details,null,2)})})]})},a)),e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsx(w,{onClick:()=>X("recalculate_balance"),variant:"outline",size:"sm",disabled:j,children:"ìž”ê³  ìž¬ê³„ì‚°"}),e.jsx(w,{onClick:()=>X("reset_counters"),variant:"outline",size:"sm",disabled:j,children:"ì¹´ìš´í„° ì´ˆê¸°í™”"})]})]})})]})]})]})]})})]}),e.jsxs(m,{children:[e.jsx(f,{children:e.jsxs(y,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),"í…ŒìŠ¤íŠ¸ íŒŒë¼ë¯¸í„° ì„¤ì •"]})}),e.jsx(u,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"opcode",children:"OPCODE"}),e.jsx(T,{id:"opcode",value:x.opcode,onChange:s=>I(a=>({...a,opcode:s.target.value})),placeholder:"eeo2211"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"username",children:"ì‚¬ìš©ìžëª…"}),e.jsx(T,{id:"username",value:x.username,onChange:s=>I(a=>({...a,username:s.target.value})),placeholder:"test_user"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"token",children:"Token"}),e.jsx(T,{id:"token",value:x.token,onChange:s=>I(a=>({...a,token:s.target.value})),placeholder:"user token"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"amount",children:"ê¸ˆì•¡"}),e.jsx(T,{id:"amount",type:"number",value:x.amount,onChange:s=>I(a=>({...a,amount:parseInt(s.target.value)})),placeholder:"10000"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"provider_id",children:"ê²Œìž„ ì œê³µì‚¬ ID"}),e.jsxs(he,{value:x.provider_id.toString(),onValueChange:s=>I(a=>({...a,provider_id:parseInt(s)})),children:[e.jsx(pe,{children:e.jsx(je,{})}),e.jsx(ge,{children:Object.entries(fe.SLOT).map(([s,a])=>e.jsxs(ye,{value:s,children:[a," (",s,")"]},s))})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"game_id",children:"ê²Œìž„ ID"}),e.jsx(T,{id:"game_id",type:"number",value:x.game_id,onChange:s=>I(a=>({...a,game_id:parseInt(s.target.value)})),placeholder:"300001"})]})]})})]}),_&&e.jsxs(m,{children:[e.jsxs(f,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(y,{className:"flex items-center gap-2",children:[_.success?e.jsx(ae,{className:"h-5 w-5 text-green-500"}):e.jsx(H,{className:"h-5 w-5 text-red-500"}),"í…ŒìŠ¤íŠ¸ ê²°ê³¼",_.test&&e.jsx(C,{variant:"outline",children:_.test})]}),e.jsxs(w,{onClick:()=>oe(JSON.stringify(_,null,2)),variant:"outline",size:"sm",children:[e.jsx(Se,{className:"h-4 w-4 mr-2"}),"ë³µì‚¬"]})]}),e.jsx(S,{children:_.timestamp&&new Date(_.timestamp).toLocaleString("ko-KR")})]}),e.jsx(u,{children:e.jsx("div",{className:"bg-muted rounded-md p-4",children:e.jsx("pre",{className:"text-sm whitespace-pre-wrap overflow-auto max-h-96",children:JSON.stringify(_,null,2)})})})]})]})}export{ke as ApiTester};
