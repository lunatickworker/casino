import{j as t,r as p}from"./react-core-CwM-CeLv.js";import{H as o,m as B,c as b,I as E,i as k}from"./index-B-OPgV84.js";import{K as R,ah as q,h as I}from"./lucide-icons-D2Y5yybo.js";function O({className:s,...r}){return t.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:t.jsx("table",{"data-slot":"table",className:o("w-full caption-bottom text-sm",s),...r})})}function z({className:s,...r}){return t.jsx("thead",{"data-slot":"table-header",className:o("[&_tr]:border-b",s),...r})}function A({className:s,...r}){return t.jsx("tbody",{"data-slot":"table-body",className:o("[&_tr:last-child]:border-0",s),...r})}function f({className:s,...r}){return t.jsx("tr",{"data-slot":"table-row",className:o("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",s),...r})}function F({className:s,...r}){return t.jsx("th",{"data-slot":"table-head",className:o("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})}function w({className:s,...r}){return t.jsx("td",{"data-slot":"table-cell",className:o("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",s),...r})}function U({columns:s,data:r,loading:T=!1,pagination:N=!0,searchable:S=!0,enableSearch:D=!0,searchPlaceholder:$="검색...",pageSize:h=10,onRowClick:g,className:L,emptyMessage:M="데이터가 없습니다.",rowKey:H="id"}){const[d,u]=p.useState(1),[j,K]=p.useState(""),[c,P]=p.useState(null),v=j?r.filter(e=>Object.values(e).some(l=>String(l).toLowerCase().includes(j.toLowerCase()))):r,x=c?[...v].sort((e,l)=>{const a=e[c.key],n=l[c.key];return a<n?c.direction==="asc"?-1:1:a>n?c.direction==="asc"?1:-1:0}):v,m=Math.ceil(x.length/h),i=(d-1)*h,y=N?x.slice(i,i+h):x,V=e=>{s.find(a=>(a.key||a.accessor)===e)?.sortable&&P(a=>a?.key===e?{key:e,direction:a.direction==="asc"?"desc":"asc"}:{key:e,direction:"asc"})},C=(e,l)=>{const a=l.key||l.accessor;return e[a]};return T?t.jsx("div",{className:"border border-slate-700/50 rounded-lg bg-slate-800/30",children:t.jsx(B,{size:"lg",text:"데이터를 불러오는 중...",className:"py-8"})}):t.jsxs("div",{className:b("space-y-4",L),children:[S&&D&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(R,{className:"h-4 w-4 text-slate-400"}),t.jsx(E,{placeholder:$,value:j,onChange:e=>{K(e.target.value),u(1)},className:"max-w-sm input-premium"})]}),t.jsx("div",{className:"table-premium rounded-lg overflow-hidden",children:t.jsxs(O,{children:[t.jsx(z,{children:t.jsx(f,{className:"border-slate-700/50 hover:bg-transparent",children:s.map((e,l)=>{const a=e.key||e.accessor,n=e.title||e.header||"";return t.jsx(F,{className:b("whitespace-nowrap text-[#94a3b8] font-semibold text-center",e.sortable&&"cursor-pointer hover:bg-slate-700/50",e.className),style:{width:e.width},onClick:()=>e.sortable&&V(a),children:t.jsxs("div",{className:"flex items-center justify-center gap-1",children:[n,e.sortable&&c?.key===a&&c.direction&&t.jsx("span",{className:"text-xs text-blue-400",children:c.direction==="asc"?"↑":"↓"})]})},l)})})}),t.jsx(A,{children:y.length===0?t.jsx(f,{className:"border-slate-700/50",children:t.jsx(w,{colSpan:s.length,className:"text-center py-8 text-slate-400",children:M})}):y.map((e,l)=>{const a=e[H]||e.id||e.external_txid||e.username||`row-${d}-${l}`;return t.jsx(f,{className:b("border-slate-700/50 text-slate-200",g&&"cursor-pointer hover:bg-slate-700/30"),onClick:()=>g?.(e,i+l),children:s.map((n,_)=>t.jsx(w,{className:b("text-center",n.className),children:n.render?n.render(C(e,n),e,i+l):n.cell?n.cell(e):String(C(e,n)||"")},`${a}-col-${_}`))},a)})})]})}),N&&m>1&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"text-sm text-slate-400",children:["총 ",x.length,"개 중 ",i+1,"-",Math.min(i+h,x.length),"개 표시"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(k,{variant:"outline",size:"sm",onClick:()=>u(e=>Math.max(1,e-1)),disabled:d===1,className:"border-slate-700 text-slate-300 hover:bg-slate-700/50",children:[t.jsx(q,{className:"h-4 w-4"}),"이전"]}),t.jsxs("span",{className:"text-sm px-2 text-slate-300",children:[d," / ",m]}),t.jsxs(k,{variant:"outline",size:"sm",onClick:()=>u(e=>Math.min(m,e+1)),disabled:d===m,className:"border-slate-700 text-slate-300 hover:bg-slate-700/50",children:["다음",t.jsx(I,{className:"h-4 w-4"})]})]})]})]})}export{U as D};
