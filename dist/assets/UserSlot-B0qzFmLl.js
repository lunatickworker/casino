import{r as o,j as e}from"./react-core-CwM-CeLv.js";import{M as ie,s as ne,I as de,S as H,p as V,q as A,r as B,t as f,i as w,C as R,e as ce,B as j}from"./index-B-OPgV84.js";import{G as me,I as xe}from"./ImageWithFallback-SroHDVva.js";import{k as d}from"./vendor-CQn7sZ7L.js";import{g as N}from"./gameApi-B-vaEBpv.js";import{q as k,u as he,F as K,Z as we,K as ge,N as pe,p as O,aw as J,ai as _,v as X,T as ue,az as ye,aA as ve,aB as fe,ay as F,am as Z,t as be}from"./lucide-icons-D2Y5yybo.js";import"./radix-ui-SX2QAG6c.js";import"./supabase-r6ABpEO8.js";const je=[{id:"all",name:"Ï†ÑÏ≤¥",icon:O,gradient:"from-yellow-500 to-amber-600"},{id:"featured",name:"Ïù∏Í∏∞",icon:_,gradient:"from-red-500 to-pink-600"},{id:"new",name:"Ïã†Í∑ú",icon:J,gradient:"from-blue-500 to-cyan-600"},{id:"jackpot",name:"Ïû≠Ìåü",icon:K,gradient:"from-purple-500 to-purple-600"},{id:"bonus",name:"Î≥¥ÎÑàÏä§",icon:fe,gradient:"from-green-500 to-emerald-600"},{id:"high-rtp",name:"Í≥†ÏàòÏùµ",icon:X,gradient:"from-orange-500 to-red-600"}];function Pe({user:h,onRouteChange:Ne}){const[n,C]=o.useState("all"),[c,S]=o.useState("all"),[y,I]=o.useState(""),[Q,G]=o.useState([]),[$,Y]=o.useState([]),[z,g]=o.useState(!1),[i,P]=o.useState("grid"),[v,ee]=o.useState("featured"),[se,W]=o.useState(0),[te,L]=o.useState(!0),[p,M]=o.useState(null),{sendMessage:T,isConnected:E}=ie();o.useEffect(()=>{ae()},[]),o.useEffect(()=>{E&&T({type:"subscribe",channel:"slot_status_updates",userId:h.id})},[E,h.id]),o.useEffect(()=>{U()},[n,c,v]);const ae=async()=>{try{g(!0);let a=(await N.getProviders()).filter(t=>t.type==="slot");a.length<20&&(a=[{id:1,name:"ÎßàÏù¥ÌÅ¨Î°úÍ≤åÏù¥Î∞ç",type:"slot",status:"active"},{id:17,name:"ÌîåÎ†àÏù¥Ïï§Í≥†",type:"slot",status:"active"},{id:20,name:"CQ9 Í≤åÏù¥Î∞ç",type:"slot",status:"active"},{id:21,name:"Ï†úÎÑ§ÏãúÏä§ Í≤åÏù¥Î∞ç",type:"slot",status:"active"},{id:22,name:"ÌïòÎ∞îÎÑ§Î°ú",type:"slot",status:"active"},{id:23,name:"Í≤åÏûÑÏïÑÌä∏",type:"slot",status:"active"},{id:27,name:"ÌîåÎ†àÏù¥ÌÖç",type:"slot",status:"active"},{id:38,name:"Î∏îÎ£®ÌîÑÎ¶∞Ìä∏",type:"slot",status:"active"},{id:39,name:"Î∂ÄÏö¥Í≥†",type:"slot",status:"active"},{id:40,name:"ÎìúÎùºÍµ∞ÏÜåÌîÑÌä∏",type:"slot",status:"active"},{id:41,name:"ÏóòÌÅ¨ Ïä§ÌäúÎîîÏò§",type:"slot",status:"active"},{id:47,name:"ÎìúÎ¶ºÌÖåÌÅ¨",type:"slot",status:"active"},{id:51,name:"ÏπºÎûåÎ∞î Í≤åÏûÑÏ¶à",type:"slot",status:"active"},{id:52,name:"Î™®ÎπåÎ°Ø",type:"slot",status:"active"},{id:53,name:"ÎÖ∏Î¶¨Î∞ã ÏãúÌã∞",type:"slot",status:"active"},{id:55,name:"OMI Í≤åÏù¥Î∞ç",type:"slot",status:"active"},{id:56,name:"ÏõêÌÑ∞Ïπò",type:"slot",status:"active"},{id:59,name:"ÌîåÎ†àÏù¥Ïä®",type:"slot",status:"active"},{id:60,name:"Ìë∏Ïâ¨ Í≤åÏù¥Î∞ç",type:"slot",status:"active"},{id:61,name:"ÌÄµÏä§ÌïÄ",type:"slot",status:"active"},{id:62,name:"RTG Ïä¨Î°Ø",type:"slot",status:"active"},{id:63,name:"Î¶¨Î≥ºÎ≤Ñ Í≤åÏù¥Î∞ç",type:"slot",status:"active"},{id:65,name:"Ïä¨Î°ØÎ∞Ä",type:"slot",status:"active"},{id:66,name:"Ïä§ÌîºÏñ¥Ìó§Îìú",type:"slot",status:"active"},{id:70,name:"Ïç¨ÎçîÌÇ•",type:"slot",status:"active"},{id:72,name:"Ïö∞ÌõÑ Í≤åÏûÑÏ¶à",type:"slot",status:"active"},{id:74,name:"Î¶¥Î†âÏä§ Í≤åÏù¥Î∞ç",type:"slot",status:"active"},{id:75,name:"ÎÑ∑ÏóîÌä∏",type:"slot",status:"active"},{id:76,name:"Î†àÎìúÌÉÄÏù¥Í±∞",type:"slot",status:"active"},{id:87,name:"PGÏÜåÌîÑÌä∏",type:"slot",status:"active"},{id:88,name:"ÌîåÎ†àÏù¥Ïä§ÌÉÄ",type:"slot",status:"active"},{id:90,name:"ÎπÖÌÉÄÏûÑÍ≤åÏù¥Î∞ç",type:"slot",status:"active"},{id:300,name:"ÌîÑÎùºÍ∑∏ÎßàÌã± ÌîåÎ†àÏù¥",type:"slot",status:"active"}]),Y(a),await U()}catch(s){console.error("Ï¥àÍ∏∞ Îç∞Ïù¥ÌÑ∞ Î°úÎìú Ïã§Ìå®:",s),d.error("Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{g(!1)}},U=async()=>{try{g(!0),W(0),L(!0);let s;try{s=await N.getUserVisibleGames(h.id,"slot",n!=="all"?parseInt(n):void 0,void 0,100,0)}catch{let l=ne.from("games").select(`
            id,
            provider_id,
            name,
            type,
            status,
            image_url,
            demo_available,
            is_featured,
            priority,
            rtp,
            play_count,
            created_at,
            updated_at,
            game_providers!inner(
              id,
              name,
              type
            )
          `).eq("type","slot").eq("status","visible").eq("game_providers.status","active");n!=="all"&&(l=l.eq("provider_id",parseInt(n)));const{data:m,error:u}=await l.order("priority",{ascending:!1}).limit(100);if(u)throw u;s=m?.map(r=>({game_id:r.id,provider_id:r.provider_id,provider_name:r.game_providers.name,game_name:r.name,game_type:r.type,image_url:r.image_url,is_featured:r.is_featured,status:r.status,priority:r.priority||0,rtp:r.rtp}))||[]}let a=[...s];if(c==="featured")a=a.filter(t=>t.is_featured);else if(c==="new")a=a.sort((t,l)=>l.game_id-t.game_id).slice(0,50);else if(c==="jackpot"){const t=["jackpot","mega","major","grand","Ïû≠Ìåü","Î©îÍ∞Ä"];a=a.filter(l=>t.some(m=>l.game_name.toLowerCase().includes(m)))}else if(c==="bonus"){const t=["bonus","free","spin","Î≥¥ÎÑàÏä§","ÌîÑÎ¶¨"];a=a.filter(l=>t.some(m=>l.game_name.toLowerCase().includes(m)))}else c==="high-rtp"&&(a=a.filter(t=>t.rtp&&t.rtp>=96));v==="featured"?a.sort((t,l)=>t.is_featured&&!l.is_featured?-1:!t.is_featured&&l.is_featured?1:l.priority-t.priority):v==="name"?a.sort((t,l)=>t.game_name.localeCompare(l.game_name)):v==="rtp"&&a.sort((t,l)=>(l.rtp||0)-(t.rtp||0)),G(a)}catch(s){console.error("Ïä¨Î°Ø Í≤åÏûÑ Î°úÎìú Ïã§Ìå®:",s),d.error("Ïä¨Î°Ø Í≤åÏûÑÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{g(!1)}},le=async s=>{if(p!==s.game_id){M(s.game_id);try{console.log("üé∞ Ïä¨Î°Ø Í≤åÏûÑ Ïã§Ìñâ ÏãúÏûë:",{userId:h.id,gameId:s.game_id,gameName:s.game_name});const a=await N.generateGameLaunchUrl(h.id,s.game_id);if(a.success&&a.launchUrl){const t=a.sessionId;console.log("üé∞ Ïä¨Î°Ø Í≤åÏûÑ Ïã§Ìñâ:",t);const l=window.open(a.launchUrl,"_blank","width=1400,height=900,scrollbars=yes,resizable=yes");if(!l)d.error("ÌåùÏóÖÏù¥ Ï∞®Îã®ÎêòÏóàÏäµÎãàÎã§. ÌåùÏóÖ ÌóàÏö© ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî."),t&&typeof t=="number"?window.endGameSession?.(t):console.warn("‚ö†Ô∏è Í≤åÏûÑ Ïã§Ìñâ Ïã§Ìå®, ÌïòÏßÄÎßå sessionIdÍ∞Ä ÏóÜÏùå:",t);else if(d.success(`${s.game_name} Ïä¨Î°ØÏùÑ ÏãúÏûëÌñàÏäµÎãàÎã§!`),t&&typeof t=="number"&&(window.gameWindows||(window.gameWindows=new Map),window.gameWindows.set(t,l),console.log("üìù Ïä¨Î°Ø Í≤åÏûÑÏ∞Ω Îì±Î°ù:",t)),T({type:"slot_started",userId:h.id,gameId:s.game_id,providerName:s.provider_name,sessionId:t,timestamp:new Date().toISOString()}),t&&typeof t=="number"){window.gameWindowCheckers||(window.gameWindowCheckers=new Map);let m=!1;const u=async()=>{if(m)return;m=!0,console.log("üé∞ Ïä¨Î°Ø Í≤åÏûÑ Ï∞Ω Ï¢ÖÎ£å Í∞êÏßÄ:",t);const x=window.gameWindowCheckers?.get(t);x&&(clearInterval(x),window.gameWindowCheckers?.delete(t)),window.gameWindows?.delete(t),console.log("üßπ Ïä¨Î°Ø Í≤åÏûÑÏ∞Ω Ï∞∏Ï°∞ ÏÇ≠Ï†ú:",t),console.log("üí∞ ÏûîÍ≥† ÎèôÍ∏∞Ìôî ÏãúÏûë:",t),window.syncBalanceAfterGame?.(t)};let r=0;const oe=setInterval(()=>{r++,console.log(`üîç [${r}] Í≤åÏûÑÏ∞Ω Ï≤¥ÌÅ¨ Ï§ë... sessionId:${t}`);try{l.closed&&(console.log(`‚úÖ [${r}] Í≤åÏûÑÏ∞Ω Îã´Ìûò ÌôïÏù∏!`),u())}catch(x){console.log(`‚ö†Ô∏è [${r}] Ï≤¥ÌÅ¨ ÏóêÎü¨:`,x)}},300);window.gameWindowCheckers.set(t,oe);const q=()=>{console.log("üëÅÔ∏è Ìè¨Ïª§Ïä§ Ïù¥Î≤§Ìä∏ - Í≤åÏûÑÏ∞Ω ÌôïÏù∏");try{l.closed&&(console.log("‚úÖ Ìè¨Ïª§Ïä§ Ïù¥Î≤§Ìä∏ÏóêÏÑú Í≤åÏûÑÏ∞Ω Îã´Ìûò ÌôïÏù∏!"),window.removeEventListener("focus",q),u())}catch(x){console.log("‚ö†Ô∏è Ìè¨Ïª§Ïä§ Ï≤¥ÌÅ¨ ÏóêÎü¨:",x)}};window.addEventListener("focus",q);const D=()=>{if(document.visibilityState==="visible"){console.log("üëÅÔ∏è ÌÉ≠ ÌôúÏÑ±Ìôî - Í≤åÏûÑÏ∞Ω ÌôïÏù∏");try{l.closed&&(console.log("‚úÖ ÌÉ≠ ÌôúÏÑ±ÌôîÏóêÏÑú Í≤åÏûÑÏ∞Ω Îã´Ìûò ÌôïÏù∏!"),document.removeEventListener("visibilitychange",D),u())}catch(x){console.log("‚ö†Ô∏è Í∞ÄÏãúÏÑ± Ï≤¥ÌÅ¨ ÏóêÎü¨:",x)}}};document.addEventListener("visibilitychange",D),console.log("‚úÖ Ïä¨Î°Ø Í≤åÏûÑÏ∞Ω Îã§Ï§ë Í∞êÏßÄ ÏãúÏûë:",t)}}else d.dismiss(`game-loading-${s.game_id}`),console.error("‚ùå Ïä¨Î°Ø Í≤åÏûÑ Ïã§Ìñâ Ïã§Ìå®:",a.error),d.error(`Ïä¨Î°Ø ÏãúÏûë Ïã§Ìå®: ${a.error||"Ïïå Ïàò ÏóÜÎäî Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§."}`)}catch(a){d.dismiss(`game-loading-${s.game_id}`),console.error("‚ùå Ïä¨Î°Ø Ïã§Ìñâ ÏòàÏô∏ Î∞úÏÉù:",a),d.error(`Ïä¨Î°Ø ÏãúÏûë Ï§ë Ïò§Î•ò: ${a instanceof Error?a.message:"ÏãúÏä§ÌÖú Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§."}`)}finally{M(null)}}},re=s=>s.image_url&&s.image_url.trim()&&s.image_url!=="null"?s.image_url:null,b=Q.filter(s=>s.game_name.toLowerCase().includes(y.toLowerCase())||s.provider_name.toLowerCase().includes(y.toLowerCase()));return e.jsxs("div",{className:"relative min-h-screen overflow-x-hidden",children:[e.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.75), rgba(0, 0, 0, 0.85)), url('https://images.unsplash.com/photo-1701374930170-47ea6a246c0b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzbG90JTIwbWFjaGluZSUyMGNhc2lubyUyMG5lb258ZW58MXx8fHwxNzU5NzIwMzcyfDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral')",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}}),e.jsxs("div",{className:"relative z-10 space-y-8 p-4 sm:p-6 lg:p-8",children:[e.jsxs("div",{className:"text-center space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsx(k,{className:"w-12 h-12 text-yellow-400 drop-shadow-[0_0_20px_rgba(250,204,21,0.8)]"}),e.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold gold-text neon-glow whitespace-nowrap",children:"VIP Ïä¨Î°Ø Î®∏Ïã†"}),e.jsx(k,{className:"w-12 h-12 text-yellow-400 drop-shadow-[0_0_20px_rgba(250,204,21,0.8)]"})]}),e.jsx("p",{className:"text-3xl text-yellow-100 tracking-wide",children:"ÏµúÍ≥† ÏàòÏùµÎ•†Í≥º Î©îÍ∞Ä Ïû≠ÌåüÏù¥ Í∏∞Îã§Î¶¨Îäî ÌîÑÎ¶¨ÎØ∏ÏóÑ Ïä¨Î°Ø"}),e.jsxs("div",{className:"flex items-center justify-center gap-6 text-yellow-300/80 text-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"w-5 h-5"}),e.jsx("span",{children:"ÎÜíÏùÄ RTP"})]}),e.jsx("div",{className:"w-px h-6 bg-yellow-600/50"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{className:"w-5 h-5"}),e.jsx("span",{children:"Î©îÍ∞Ä Ïû≠Ìåü"})]}),e.jsx("div",{className:"w-px h-6 bg-yellow-600/50"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-5 h-5"}),e.jsx("span",{children:"Ï¶âÏãú ÏãúÏûë"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-3 items-center justify-between",children:[e.jsxs("div",{className:"flex gap-2 sm:gap-3 items-center w-full lg:flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-xl",children:[e.jsx(ge,{className:"absolute left-3 sm:left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 sm:w-6 sm:h-6 text-yellow-400 drop-shadow-lg"}),e.jsx(de,{type:"text",placeholder:"Ïä¨Î°Ø Í≤ÄÏÉâ...",value:y,onChange:s=>I(s.target.value),className:"pl-10 sm:pl-12 h-14 text-base sm:text-lg bg-gradient-to-r from-black/60 via-black/50 to-black/60 border-2 border-yellow-600/40 text-white placeholder:text-yellow-200/50 focus:border-yellow-500 rounded-lg shadow-lg shadow-yellow-900/10 focus:shadow-yellow-600/20 transition-all duration-300"})]}),e.jsxs(H,{value:n,onValueChange:C,children:[e.jsxs(V,{className:"relative w-40 sm:w-48 h-14 text-base sm:text-lg bg-gradient-to-r from-black/80 via-black/70 to-black/80 border-2 border-yellow-600/50 text-yellow-100 hover:border-yellow-500 transition-all duration-300 shadow-lg shadow-yellow-900/20 hover:shadow-yellow-600/30 rounded-lg",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-600/10 via-transparent to-yellow-600/10 pointer-events-none rounded-lg"}),e.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[e.jsx(pe,{className:"w-4 h-4 sm:w-5 sm:h-5 text-yellow-400 drop-shadow-lg"}),e.jsx(A,{placeholder:"Ï†úÍ≥µÏÇ¨",className:"truncate"})]})]}),e.jsxs(B,{className:"bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 border-2 border-yellow-600/50 shadow-2xl shadow-yellow-900/50 max-h-[400px] backdrop-blur-md rounded-xl",children:[e.jsx(f,{value:"all",className:"text-yellow-100 hover:text-yellow-400 hover:bg-yellow-900/30 cursor-pointer transition-all duration-200 border-b border-yellow-600/20 text-base sm:text-lg py-3",children:e.jsxs("div",{className:"flex items-center gap-2 py-1",children:[e.jsx(O,{className:"w-5 h-5 text-yellow-400 drop-shadow-lg"}),e.jsx("span",{className:"tracking-wide",children:"Ï†ÑÏ≤¥ Ï†úÍ≥µÏÇ¨"})]})}),$.map(s=>e.jsx(f,{value:s.id.toString(),className:"text-yellow-100 hover:text-yellow-400 hover:bg-yellow-900/20 cursor-pointer transition-all duration-200 text-base sm:text-lg py-3",children:e.jsxs("div",{className:"flex items-center gap-2 py-1",children:[e.jsx(J,{className:"w-4 h-4 text-yellow-400/60"}),e.jsx("span",{children:s.name})]})},s.id))]})]})]}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsxs(H,{value:v,onValueChange:ee,children:[e.jsxs(V,{className:"relative w-40 h-14 text-lg bg-gradient-to-r from-black/80 via-black/70 to-black/80 border-2 border-yellow-600/50 text-yellow-100 hover:border-yellow-500 transition-all duration-300 shadow-lg shadow-yellow-900/20 hover:shadow-yellow-600/30",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-600/10 via-transparent to-yellow-600/10 pointer-events-none"}),e.jsx("div",{className:"relative z-10",children:e.jsx(A,{})})]}),e.jsxs(B,{className:"bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 border-2 border-yellow-600/50 shadow-2xl shadow-yellow-900/50 backdrop-blur-md",children:[e.jsx(f,{value:"featured",className:"text-yellow-100 hover:text-yellow-400 hover:bg-yellow-900/30 cursor-pointer transition-all duration-200",children:e.jsxs("div",{className:"flex items-center gap-2 py-1",children:[e.jsx(_,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{children:"Ï∂îÏ≤úÏàú"})]})}),e.jsx(f,{value:"name",className:"text-yellow-100 hover:text-yellow-400 hover:bg-yellow-900/30 cursor-pointer transition-all duration-200",children:e.jsxs("div",{className:"flex items-center gap-2 py-1",children:[e.jsx(X,{className:"w-4 h-4 text-yellow-400/60"}),e.jsx("span",{children:"Ïù¥Î¶ÑÏàú"})]})}),e.jsx(f,{value:"rtp",className:"text-yellow-100 hover:text-yellow-400 hover:bg-yellow-900/30 cursor-pointer transition-all duration-200",children:e.jsxs("div",{className:"flex items-center gap-2 py-1",children:[e.jsx(ue,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{children:"ÏàòÏùµÎ•†Ïàú"})]})})]})]}),e.jsxs("div",{className:"hidden lg:flex gap-2 bg-gradient-to-r from-black/80 via-black/70 to-black/80 border-2 border-yellow-600/50 rounded-lg p-2 shadow-lg shadow-yellow-900/20",children:[e.jsx(w,{variant:i==="grid"?"default":"ghost",size:"sm",onClick:()=>P("grid"),className:`w-12 h-12 transition-all duration-300 ${i==="grid"?"bg-gradient-to-r from-yellow-600 to-yellow-500 text-black shadow-lg shadow-yellow-600/50 hover:from-yellow-500 hover:to-yellow-400":"text-yellow-300 hover:text-yellow-100 hover:bg-yellow-900/20"}`,children:e.jsx(ye,{className:"w-6 h-6"})}),e.jsx(w,{variant:i==="list"?"default":"ghost",size:"sm",onClick:()=>P("list"),className:`w-12 h-12 transition-all duration-300 ${i==="list"?"bg-gradient-to-r from-yellow-600 to-yellow-500 text-black shadow-lg shadow-yellow-600/50 hover:from-yellow-500 hover:to-yellow-400":"text-yellow-300 hover:text-yellow-100 hover:bg-yellow-900/20"}`,children:e.jsx(ve,{className:"w-6 h-6"})})]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:je.map(s=>{const a=s.icon,t=c===s.id;return e.jsxs(w,{variant:"ghost",onClick:()=>S(s.id),className:`
                  relative px-6 py-4 text-lg font-bold transition-all duration-300
                  ${t?`bg-gradient-to-r ${s.gradient} text-white shadow-lg shadow-yellow-500/50 scale-105`:"text-yellow-200/80 hover:text-yellow-100 hover:bg-yellow-900/20 border border-transparent hover:border-yellow-600/30"}
                `,children:[e.jsx(a,{className:"w-5 h-5 mr-2"}),s.name,t&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-yellow-300 to-transparent"})]},s.id)})}),e.jsx("div",{className:"hidden lg:block luxury-card rounded-3xl p-8 border-2 border-yellow-600/20",children:e.jsx(me,{selectedProvider:n,onProviderChange:C,gameType:"slot",providers:$})}),z?e.jsx("div",{className:`grid gap-6 ${i==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:Array.from({length:8}).map((s,a)=>e.jsxs(R,{className:"luxury-card animate-pulse border-yellow-600/20",children:[e.jsx("div",{className:`${i==="grid"?"aspect-[4/3]":"aspect-[16/9]"} bg-gradient-to-br from-slate-700 to-slate-800 rounded-t-xl`}),e.jsxs(ce,{className:"p-4 space-y-3",children:[e.jsx("div",{className:"h-5 bg-gradient-to-r from-yellow-600/20 to-yellow-400/20 rounded"}),e.jsx("div",{className:"h-4 bg-gradient-to-r from-yellow-600/20 to-yellow-400/20 rounded w-2/3"})]})]},a))}):e.jsx("div",{className:`grid gap-6 ${i==="grid"?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"}`,children:b.map(s=>e.jsxs(R,{className:`luxury-card group cursor-pointer border-2 border-yellow-600/20 hover:border-yellow-500/60 transition-all game-card-hover overflow-hidden ${p===s.game_id?"opacity-50":""} ${i==="list"?"flex flex-row":""}`,onClick:()=>le(s),children:[e.jsxs("div",{className:`relative overflow-hidden ${i==="grid"?"aspect-[4/3]":"w-48 aspect-[4/3] flex-shrink-0"}`,children:[e.jsx(xe,{src:re(s),alt:s.game_name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),s.is_featured&&e.jsx("div",{className:"absolute top-3 right-3",children:e.jsxs(j,{className:"vip-badge text-white border-0",children:[e.jsx(_,{className:"w-3 h-3 mr-1"}),"HOT"]})}),s.rtp&&e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs(j,{className:"bg-green-600 text-white border-0",children:["RTP ",s.rtp,"%"]})}),i==="grid"&&e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-all duration-300 flex items-center justify-center",children:p===s.game_id?e.jsxs("div",{className:"flex flex-col items-center gap-2 text-white",children:[e.jsx(F,{className:"w-8 h-8 animate-spin"}),e.jsx("span",{className:"text-sm font-semibold",children:"ÏãúÏûë Ï§ë..."})]}):e.jsxs(w,{size:"lg",className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-gradient-to-r from-yellow-600 to-amber-600 hover:from-yellow-500 hover:to-amber-500 text-black font-bold shadow-lg shadow-yellow-500/40",disabled:p===s.game_id,children:[e.jsx(Z,{className:"w-5 h-5 mr-2"}),"ÌîåÎ†àÏù¥"]})}),i==="grid"&&e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[e.jsx("h3",{className:"font-bold text-lg mb-1 truncate neon-glow",children:s.game_name}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-yellow-300 truncate",children:s.provider_name}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-400",children:[e.jsx(be,{className:"w-3 h-3"}),e.jsx("span",{children:"24H"})]})]})]})]}),i==="list"&&e.jsxs("div",{className:"flex-1 p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-bold text-yellow-100 mb-2 neon-glow",children:s.game_name}),e.jsx("p",{className:"text-yellow-300 mb-3",children:s.provider_name}),e.jsxs("div",{className:"flex gap-2",children:[s.is_featured&&e.jsxs(j,{className:"vip-badge text-white",children:[e.jsx(_,{className:"w-3 h-3 mr-1"}),"Ïù∏Í∏∞"]}),s.rtp&&e.jsxs(j,{className:"bg-green-600 text-white",children:["RTP ",s.rtp,"%"]})]})]}),e.jsx("div",{className:"flex-shrink-0",children:p===s.game_id?e.jsxs("div",{className:"flex items-center gap-2 text-yellow-400",children:[e.jsx(F,{className:"w-6 h-6 animate-spin"}),e.jsx("span",{children:"ÏãúÏûë Ï§ë..."})]}):e.jsxs(w,{size:"lg",className:"bg-gradient-to-r from-yellow-600 to-amber-600 hover:from-yellow-500 hover:to-amber-500 text-black font-bold shadow-lg",disabled:p===s.game_id,children:[e.jsx(Z,{className:"w-5 h-5 mr-2"}),"ÌîåÎ†àÏù¥"]})})]})]},s.game_id))}),b.length===0&&!z&&e.jsxs("div",{className:"text-center py-16 luxury-card rounded-2xl border-2 border-yellow-600/20",children:[e.jsx("div",{className:"mx-auto w-24 h-24 bg-gradient-to-br from-yellow-500/20 to-amber-600/20 rounded-full flex items-center justify-center mb-6",children:e.jsx(k,{className:"w-12 h-12 text-yellow-400"})}),e.jsx("h3",{className:"text-2xl font-bold gold-text mb-2",children:"Ïä¨Î°ØÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§"}),e.jsx("p",{className:"text-yellow-200/80 text-lg mb-4",children:y?`"${y}"Ïóê ÎåÄÌïú Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§.`:c!=="all"?"ÏÑ†ÌÉùÌïú Ïπ¥ÌÖåÍ≥†Î¶¨Ïùò Ïä¨Î°ØÏù¥ ÏóÜÏäµÎãàÎã§.":"ÏÇ¨Ïö© Í∞ÄÎä•Ìïú Ïä¨Î°Ø Í≤åÏûÑÏù¥ ÏóÜÏäµÎãàÎã§."}),e.jsx(w,{variant:"outline",onClick:()=>{I(""),S("all")},className:"border-yellow-600/30 text-yellow-300 hover:bg-yellow-900/20",children:"Ï†ÑÏ≤¥ Ïä¨Î°Ø Î≥¥Í∏∞"})]}),te&&b.length>0&&b.length>=100&&e.jsx("div",{className:"text-center",children:e.jsx(w,{variant:"outline",size:"lg",onClick:async()=>{const s=se+1;W(s);try{g(!0);const a=await N.getUserVisibleGames(h.id,"slot",n!=="all"?parseInt(n):void 0,void 0,100,s*100);a.length<100&&L(!1),G(t=>[...t,...a])}catch(a){console.error("Ï∂îÍ∞Ä Í≤åÏûÑ Î°úÎìú Ïã§Ìå®:",a),d.error("Îçî ÎßéÏùÄ Í≤åÏûÑÏùÑ Î∂àÎü¨Ïò§ÎäîÎç∞ Ïã§Ìå®ÌñàÏäµÎãàÎã§.")}finally{g(!1)}},className:"border-yellow-600/30 text-yellow-300 hover:bg-yellow-900/20 px-8 py-3",children:"Îçî ÎßéÏùÄ Ïä¨Î°Ø Î≥¥Í∏∞"})})]})]})}export{Pe as UserSlot};
